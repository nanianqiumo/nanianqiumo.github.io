webpackJsonp([1],{"+31+":function(t,e){},0:function(t,e,s){t.exports=s("msSN")},"097M":function(t,e){},"0J0P":function(t,e){},"12EE":function(t,e){},"2a4D":function(t,e){},"3JWO":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),s.d(e,"SET_PAGE_SWITCHING",function(){return c}),s.d(e,"SET_PAGE_SCROLL_POSITION",function(){return l}),s.d(e,"state",function(){return u}),s.d(e,"mutations",function(){return h}),s.d(e,"actions",function(){return d});var i,n=s("bOdI"),a=s.n(n),r=s("Dd8w"),o=s.n(r),c="SET_PAGE_SWITCHING",l="SET_PAGE_SCROLL_POSITION",u=function(){return{isPageSwitching:!1,scrollPostionMap:{}}},h=(i={},a()(i,c,function(t,e){t.isPageSwitching=e}),a()(i,l,function(t,e){var s=e.pageId,i=e.scrollPosition;t.scrollPostionMap=o()({},t.scrollPostionMap,a()({},s,i))}),i),d={setPageSwitching:function(t,e){(0,t.commit)(c,e)},savePageScrollPosition:function(t,e){var s=t.commit,i=e.pageId,n=e.scrollPosition;s(l,{pageId:i,scrollPosition:n})}}},"56be":function(t,e,s){"use strict";s.d(e,"b",function(){return i}),s.d(e,"a",function(){return n}),s.d(e,"c",function(){return a});var i="http://140.143.249.134:3001",n=200,a={sequence:0,loop:1,random:2}},"5e9e":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),s.d(e,"state",function(){return i}),s.d(e,"mutations",function(){return n});var i=function(){return{enable:!0,type:"none",effect:"none"}},n={setType:function(t,e){t.type=e},setEffect:function(t,e){t.effect=e}}},"6r/8":function(t,e){},"7Tv1":function(t,e){t.exports="data:image/png;base64,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"},ACk3:function(t,e){},BM6P:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,n=s("bOdI"),a=s.n(n),r=s("56be"),o=s("S2OJ"),c=s("MfZv"),l=s.n(c),u="__search__",h=15,d="__play__",p=200,f="__favorite__",v=200;function m(t,e,s,i){var n=t.findIndex(s);0!==n&&(n>0&&t.splice(n,1),t.unshift(e),i&&t.length>i&&t.pop())}function g(t,e){var s=t.findIndex(e);s>-1&&t.splice(s,1)}s.d(e,"SET_MUSIC_LIST",function(){return y}),s.d(e,"SET_SINGER",function(){return _}),s.d(e,"SET_PLAYING_STATE",function(){return w}),s.d(e,"SET_FULL_SCREEN",function(){return C}),s.d(e,"SET_PLAYLIST",function(){return S}),s.d(e,"SET_SEQUENCE_LIST",function(){return b}),s.d(e,"SET_PLAY_MODE",function(){return L}),s.d(e,"SET_CURRENT_INDEX",function(){return A}),s.d(e,"SET_DISC",function(){return x}),s.d(e,"SET_TOP_LIST",function(){return T}),s.d(e,"SET_SEARCH_HISTORY",function(){return k}),s.d(e,"SET_PLAY_HISTORY",function(){return I}),s.d(e,"SET_FAVORITE_LIST",function(){return E}),s.d(e,"state",function(){return P}),s.d(e,"getters",function(){return O}),s.d(e,"mutations",function(){return M}),s.d(e,"actions",function(){return R});var y="SET_MUSIC_LIST",_="SET_SINGER",w="SET_PLAYING_STATE",C="SET_FULL_SCREEN",S="SET_PLAYLIST",b="SET_SEQUENCE_LIST",L="SET_PLAY_MODE",A="SET_CURRENT_INDEX",x="SET_DISC",T="SET_TOP_LIST",k="SET_SEARCH_HISTORY",I="SET_PLAY_HISTORY",E="SET_FAVORITE_LIST",P=function(){return{singer:{},playing:!1,fullScreen:!1,playList:[],sequenceList:[],mode:r.c.sequence,currentIndex:-1,musicList:{},topList:{},searchHistory:l.a.get(u,[]),playHistory:l.a.get(d,[]),favoriteList:l.a.get(f,[])}},O={fullScreen:function(t){return t.fullScreen},playList:function(t){return t.playList},playing:function(t){return t.playing},currentSong:function(t){return console.log(t.playList[t.currentIndex]),t.playList[t.currentIndex]||{}},mode:function(t){return t.mode},musicList:function(t){return t.musicList},favoriteList:function(t){return t.favoriteList},sequenceList:function(t){return t.sequenceList},currentIndex:function(t){return t.currentIndex},topList:function(t){return t.topList},singer:function(t){return t.singer},playHistory:function(t){return t.playHistory},searchHistory:function(t){return t.searchHistory}},M=(i={},a()(i,C,function(t,e){console.log(e),t.fullScreen=e}),a()(i,y,function(t,e){t.musicList=e}),a()(i,b,function(t,e){t.sequenceList=e}),a()(i,S,function(t,e){t.playList=e}),a()(i,A,function(t,e){t.currentIndex=e}),a()(i,w,function(t,e){t.playing=e}),a()(i,I,function(t,e){t.playHistory=e}),a()(i,L,function(t,e){t.mode=e}),a()(i,T,function(t,e){t.topList=e}),a()(i,_,function(t,e){t.singer=e}),a()(i,E,function(t,e){t.favoriteList=e}),a()(i,k,function(t,e){t.searchHistory=e}),i),R={selectPlay:function(t,e){var s=t.commit,i=t.state,n=e.list,a=e.index;if(s(b,n),i.mode===r.c.random){var c=Object(o.b)(n);s(S,c),a=j(c,n[a])}else s(S,n);s(A,a),s(C,!0),s(w,!0)},savePlayHistory:function(t,e){(0,t.commit)(I,function(t){var e=l.a.get(d,[]);return m(e,t,function(e){return t.id===e.id},p),l.a.set(d,e),e}(e))},insertSong:function(t,e){var s=t.commit,i=t.state,n=i.playList.slice(),a=i.sequenceList.slice(),r=i.currentIndex,o=n[r],c=j(n,e);r++,n.splice(r,0,e),c>-1&&(r>c?(n.splice(c,1),r--):n.splice(c+1,1));var l=j(a,o)+1,u=j(a,e);a.splice(l,0,e),u>-1&&(l>u?a.splice(c,1):a.splice(c+1,1)),s(S,n),s(b,a),s(A,r),s(C,!0),s(w,!0)},sequencePlay:function(t,e){var s=t.commit,i=e.list;s(L,r.c.sequence),s(b,i),s(S,i),s(A,0),s(C,!0),s(w,!0)},saveFavoriteList:function(t,e){(0,t.commit)(E,function(t){var e=l.a.get(f,[]);return m(e,t,function(e){return t.id===e.id},v),l.a.set(f,e),e}(e))},saveSearchHistory:function(t,e){(0,t.commit)(k,function(t){var e=l.a.get(u,[]);return m(e,t,function(e){return e===t},h),l.a.set(u,e),e}(e))},deleteSearchHistory:function(t,e){(0,t.commit)(k,function(t){var e=l.a.get(u,[]);return g(e,function(e){return e===t}),l.a.set(u,e),e}(e))},clearSearchHistory:function(t){(0,t.commit)(k,(l.a.remove(u),[]))}};function j(t,e){return t.findIndex(function(t){return t.id===e.id})}},C86c:function(t,e){},CJsk:function(t,e){},EXTq:function(t,e){},IaLg:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),s.d(e,"SET_SIDEBAR_VISIBILITY",function(){return n}),s.d(e,"state",function(){return a}),s.d(e,"mutations",function(){return r}),s.d(e,"actions",function(){return o});var i=s("bOdI"),n="SET_SIDEBAR_VISIBILITY",a=function(){return{show:!1,title:{imageLeft:"",altLeft:"",iconLeft:"home",text:"Home",imageRight:"",altRight:"",iconRight:""},blocks:[{sublistTitle:"Sublist1",list:[{text:"Detail Page 1",icon:"sentiment_satisfied",route:"/detail/1"},{text:"Detail Page 2",image:"https://github.com/google/material-design-icons/blob/master/social/2x_web/ic_mood_bad_black_48dp.png?raw=true",alt:"mood-bad",route:"/detail/2"},{text:"Detail Page 3",icon:"sentiment_neutral",route:"/detail/3"}]}]}},r=s.n(i)()({},n,function(t,e){t.show=e}),o={showSidebar:function(t){(0,t.commit)(n,!0)},hideSidebar:function(t){(0,t.commit)(n,!1)}}},Jfi4:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),s.d(e,"SET_APP_HEADER",function(){return o}),s.d(e,"state",function(){return c}),s.d(e,"mutations",function(){return l}),s.d(e,"actions",function(){return u});var i=s("bOdI"),n=s.n(i),a=s("woOf"),r=s.n(a),o="SET_APP_HEADER",c=function(){return{show:!0,_title:"Listen",logoIcon:{src:"",alt:""},showMenu:!0,showBack:!1,showLogo:!1,actions:[]}},l=n()({},o,function(t,e){t=r()(t,e),console.log(e,t.show)}),u={setAppHeader:function(t,e){(0,t.commit)(o,e)}}},LiAR:function(t,e){},Lt1Q:function(t,e){},MVrw:function(t,e){},"N/eN":function(t,e){},S2OJ:function(t,e,s){"use strict";e.b=function(t){for(var e=t.slice(0),s=0;s<t.length;s++){var i=(a=0,r=s,Math.floor(Math.random()*(r-a+1)+a)),n=e[s];e[s]=e[i],e[i]=n}var a,r;return e},e.a=function(t,e){var s=void 0;return function(){for(var i=this,n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];s&&clearTimeout(s),s=setTimeout(function(){t.apply(i,a)},e)}}},UwIp:function(t,e){},Uz7q:function(t,e){t.exports={buildVersion:1528406269279,build:{ssr:!1,publicPath:"/",compress:!0,cssExtract:!0},middleware:{all:[],server:[],client:[]},router:{mode:"history",base:"/",pageTransition:{type:"slide",transitionClass:"slide"}},errorHandler:{defaultErrorMessage:"Internal Server Error",showRealErrorMessage:!1,errorPath:"/error"},serviceWorker:{swDest:"E:\\pwa_test\\listen\\dist\\service-worker.js"},skeleton:{enable:!0,asyncCSS:!0}}},VPQJ:function(t,e){},VfAp:function(t,e){},VfP6:function(t,e,s){var i={"./appShell/appHeader.js":"Jfi4","./appShell/appPlayer.js":"BM6P","./appShell/appSidebar.js":"IaLg","./appShell/common.js":"3JWO","./pageTransition.js":"5e9e"};function n(t){return s(a(t))}function a(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}n.keys=function(){return Object.keys(i)},n.resolve=a,t.exports=n,n.id="VfP6"},WE5i:function(t,e){},ZiwZ:function(t,e){},c79u:function(t,e){},cmVA:function(t,e){},"d+dr":function(t,e){},"dWm/":function(t,e){},"fL9+":function(t,e){},faRv:function(t,e){},gT5i:function(t,e){},hoI6:function(t,e){},iDkY:function(t,e){},j7h2:function(t,e){},msSN:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,n=s("//Fk"),a=s.n(n),r=s("Gu7T"),o=s.n(r),c=s("Xxa5"),l=s.n(c),u=s("exGp"),h=s.n(u),d=s("/5sW"),p=s("1nuA"),f=(i=h()(l.a.mark(function t(e){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{});case 1:case"end":return t.stop()}},t,this)})),function(t){return i.apply(this,arguments)});function v(t,e){var s={isClient:!0,app:e,store:t.store,route:t.to,from:t.from},i=t.next;return s.params=s.route.params||{},s.query=s.route.query||{},s.redirect=function(t){var e=t.status,n=void 0===e?302:e,a=t.path,r=void 0===a?"":a,o=t.query,c=void 0===o?{}:o,l=t.external,u=void 0!==l&&l;s._redirected=!0,i({path:r,query:c,status:n,external:u})},s}var m,g=(m=h()(l.a.mark(function t(e,s){var i;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<e.length)){t.next=9;break}if(!s._redirected){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,y(e[i],s);case 6:i++,t.next=1;break;case 9:case"end":return t.stop()}},t,this)})),function(t,e){return m.apply(this,arguments)});function y(t,e){var s=void 0;return 2===t.length?s=new a.a(function(s,i){t(e,function(t,n){t?(e.error(t),i(t)):s(n)})}):(s=t(e))&&(s instanceof a.a||"function"==typeof s.then)||(s=a.a.resolve(s)),s}var _=s("Uz7q"),w=s.n(_),C=s("Dd8w"),S=s.n(C),b=s("p3jY"),L=s.n(b),A=s("mvHQ"),x=s.n(A),T=s("pFYg"),k=s.n(T),I=s("/ocq"),E={name:"appshell",metaInfo:{title:"Lavas",meta:[{name:"keywords",content:"lavas PWA"},{name:"description",content:"基于 Vue 的 PWA 解决方案，帮助开发者快速搭建 PWA 应用，解决接入 PWA 的各种问题"}],bodyAttrs:{"empty-appshell":void 0}}},P=s("XyMi"),O=Object(P.a)(E,function(){var t=this.$createElement;return(this._self._c||t)("div")},[],!1,null,null,null).exports,M={appHeaderState:{show:!0,title:"Lavas",showMenu:!1,showBack:!0,showLogo:!1,actions:[{icon:"home",route:{name:"index"}}]}};function R(t){t.dispatch("appShell/appHeader/setAppHeader",M.appHeaderState)}var j={name:"detailId",metaInfo:function(){return{title:"Detail "+this.$route.params.id,titleTemplate:"%s - Lavas",meta:[{name:"keywords",content:"lavas PWA"},{name:"description",content:"基于 Vue 的 PWA 解决方案，帮助开发者快速搭建 PWA 应用，解决接入 PWA 的各种问题"}]}},asyncData:function(){var t=h()(l.a.mark(function t(e){var s=e.store;e.route;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return R(s),t.next=3,new a.a(function(t,e){setTimeout(t,500)});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){R(this.$store)}};var D=function(t){s("EXTq")},q=Object(P.a)(j,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-wrapper"},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs10:"","offset-xs1":""}},[s("article",{staticClass:"detail-content text-xs-center"},[s("header",{staticClass:"detail-title text-xs-center"},[t._v("\n                        Detail "+t._s(t.$route.params.id)+"\n                    ")]),t._v(" "),s("router-link",{attrs:{to:{name:"detailId",params:{id:Number(t.$route.params.id)+1}}}},[t._v("\n                        Detail "+t._s(Number(t.$route.params.id)+1)+"\n                    ")]),t._v(" "),s("p",[t._v("\n                    Progressive Web Apps are user experiences that have the reach of the web, and are:\nReliable - Load instantly and never show the downasaur, even in uncertain network conditions.\nFast - Respond quickly to user interactions with silky smooth animations and no janky scrolling.\n                    ")]),t._v(" "),s("p",[t._v("\n                    Progressive Web Apps are user experiences that have the reach of the web, and are:\nReliable - Load instantly and never show the downasaur, even in uncertain network conditions.\nFast - Respond quickly to user interactions with silky smooth animations and no janky scrolling.\n                    ")]),t._v(" "),s("p",[t._v("\n                    Progressive Web Apps are user experiences that have the reach of the web, and are:\nReliable - Load instantly and never show the downasaur, even in uncertain network conditions.\nFast - Respond quickly to user interactions with silky smooth animations and no janky scrolling.\n                    ")]),t._v(" "),s("p",[t._v("\n                    Progressive Web Apps are user experiences that have the reach of the web, and are:\nReliable - Load instantly and never show the downasaur, even in uncertain network conditions.\nFast - Respond quickly to user interactions with silky smooth animations and no janky scrolling.\n                    ")]),t._v(" "),s("p",[t._v("\n                    Progressive Web Apps are user experiences that have the reach of the web, and are:\nReliable - Load instantly and never show the downasaur, even in uncertain network conditions.\nFast - Respond quickly to user interactions with silky smooth animations and no janky scrolling.\n                    ")])],1)])],1)],1)},[],!1,D,"data-v-302ae8f4",null).exports,N=s("fZjL"),H=s.n(N),W={name:"error",computed:{message:function(){return this.$route.params.error||"您访问的路径不存在"}},created:function(){var t=this.$route.query;0!==H()(t).length&&this.$router.replace({name:"error",params:t})}},B=Object(P.a)(W,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-error"},[e("p",[this._v(this._s(this.message))])])},[],!1,null,null,null).exports,U=s("NYxO"),$=s("m3es"),Y=s.n($),F={props:{probeType:{type:Number,default:1},click:{type:Boolean,default:!0},data:{type:Array,default:null},listenScroll:{type:Boolean,default:!1},pullUp:{type:Boolean,default:!1},beforeScroll:{type:Boolean,default:!1},refreshDelay:{type:Number,default:20}},mounted:function(){var t=this;setTimeout(function(){t._initScroll()},20)},methods:{_initScroll:function(){var t=this;if(this.$refs.wrapper){if(this.scroll=new Y.a(this.$refs.wrapper,{probeType:this.probeType,click:this.click}),this.listenScroll){var e=this;this.scroll.on("scroll",function(t){e.$emit("scroll",t)})}this.pullUp&&this.scroll.on("scrollEnd",function(){t.scroll.y<=t.scroll.maxScrollY+50&&t.$emit("scrollToEnd")}),this.beforeScroll&&this.scroll.on("beforeScrollStart",function(){t.$emit("beforeScroll")})}},enable:function(){this.scroll&&this.scroll.enable()},disable:function(){this.scroll&&this.scroll.disable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)}},watch:{data:function(){var t=this;setTimeout(function(){t.refresh()},this.refreshDelay)}}},Q=Object(P.a)(F,function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"wrapper"},[this._t("default")],2)},[],!1,null,null,null).exports;function z(t,e){if(!function(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)}(t,e)){var s=t.className.split(" ");s.push(e),t.className=s.join(" ")}}var J=document.createElement("div").style,G=function(){var t={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform",standard:"transform"};for(var e in t)if(void 0!==J[t[e]])return e;return!1}();function Z(t){return!1!==G&&("standard"===G?t:G+t.charAt(0).toUpperCase()+t.substr(1))}var V={data:function(){return{dots:[],currentPageIndex:0}},props:{loop:{type:Boolean,default:!0},autoPlay:{type:Boolean,default:!0},interval:{type:Number,default:3e3}},mounted:function(){var t=this;setTimeout(function(){t._setSlidersWidth(),t._initDots(),t._initSliders(),t.autoPlay&&t._play()},20),window.addEventListener("resize",function(){t.sliders&&(t._setSlidersWidth(!0),t.sliders.refresh())})},activated:function(){this.autoPlay&&this._play()},deactivated:function(){clearTimeout(this.timer)},beforeDestroy:function(){clearTimeout(this.timer)},methods:{_setSlidersWidth:function(t){this.children=this.$refs.slidersGroup.children;for(var e=0,s=this.$refs.sliders.clientWidth,i=0;i<this.children.length;i++){var n=this.children[i];z(n,"sliders-item"),n.style.width=s+"px",e+=s}this.loop&&!t&&(e+=2*s),this.$refs.slidersGroup.style.width=e+"px"},_initSliders:function(){var t=this;this.sliders=new Y.a(this.$refs.sliders,{scrollX:!0,scrollY:!1,momentum:!1,snap:!0,snapLoop:this.loop,snapThreshold:.3,snapSpeed:400}),this.sliders.on("scrollEnd",function(){var e=t.sliders.getCurrentPage().pageX;t.loop&&(e-=1),t.currentPageIndex=e,t.autoPlay&&(clearTimeout(t.timer),t._play())}),this.sliders.on("beforeScrollStart",function(){t.autoPlay&&clearTimeout(t.timer)})},_initDots:function(){this.dots=new Array(this.children.length)},_play:function(){var t=this,e=this.currentPageIndex+1;this.loop&&(e+=1),this.timer=setTimeout(function(){t.sliders.goToPage(e,0,400)},this.interval)}},destroyed:function(){clearTimeout(this.timer)}};var K=function(t){s("p1F+")},X=Object(P.a)(V,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"sliders",staticClass:"sliders"},[s("div",{ref:"slidersGroup",staticClass:"sliders-group"},[t._t("default")],2),t._v(" "),s("div",{staticClass:"dots"},t._l(t.dots,function(e,i){return s("span",{staticClass:"dot",class:{active:t.currentPageIndex===i}})}))])},[],!1,K,"data-v-488dcb34",null).exports,tt=s("mtWM"),et=s.n(tt),st=s("56be");function it(){var t=st.b+"/banner";return et.a.get(t)}function nt(){var t=st.b+"/personalized/personalized";return et.a.get(t)}function at(){var t=st.b+"/personalized/newsong";return et.a.get(t)}var rt=s("Zrlr"),ot=s.n(rt),ct=function t(e){var s=e.id,i=(e.mid,e.singer),n=e.name,a=e.album,r=(e.duration,e.image),o=(e.url,e.aliaName);ot()(this,t),this.id=s,this.singer=i,this.name=n,this.album=a,this.aliaName=o,this.image=r};function lt(t){return t.map(function(t){return t.name}).join("/")}function ut(t){return new ct({id:t.id,singer:lt(t.song.artists),name:t.name,album:t.song.album.name,image:t.song.album.picUrl})}function ht(t){return new ct({id:t.id,singer:lt(t.ar),name:t.name,album:t.al.name,image:t.al.picUrl})}function dt(t){return new ct({id:t.id,singer:lt(t.artists),name:t.name,album:t.album.name})}var pt={computed:S()({},Object(U.c)("appShell/appPlayer",["playList"])),mounted:function(){this.handlePlayList(this.playList)},activated:function(){this.handlePlayList(this.playList)},watch:{playList:function(t){this.handlePlayList(t)}},methods:{handlePlayList:function(){throw new Error("component must implement handlePlayList method")}}},ft={computed:S()({iconMode:function(){return this.mode===st.c.sequence?"icon-sequence":this.mode===st.c.loop?"icon-loop":"icon-random"}},Object(U.c)("appShell/appPlayer",["sequenceList","playList","currentSong","mode","favoriteList"])),methods:S()({changeMode:function(){var t=(this.mode+1)%3;this.setPlayMode(t);var e=null;e=t===st.c.random?function(t){for(var e,s,i=t.slice(),n=0;n<i.length;n++){var a=(e=0,s=n,Math.floor(Math.random()*(s-e+1)+e)),r=i[n];i[n]=i[a],i[a]=r}return i}(this.sequenceList):this.sequenceList,this.resetCurrentIndex(e),this.setPlaylist(e)},resetCurrentIndex:function(t){var e=this,s=t.findIndex(function(t){return t.id===e.currentSong.id});this.setCurrentIndex(s)},toggleFavorite:function(t){this.isFavorite(t)?this.deleteFavoriteList(t):this.saveFavoriteList(t)},getFavoriteIcon:function(t){return this.isFavorite(t)?"icon-favorite":"icon-not-favorite"},isFavorite:function(t){return this.favoriteList.findIndex(function(e){return e.id===t.id})>-1}},Object(U.d)("appShell/appPlayer",{setPlayMode:"SET_PLAY_MODE",setPlaylist:"SET_PLAYLIST",setCurrentIndex:"SET_CURRENT_INDEX",setPlayingState:"SET_PLAYING_STATE"}),Object(U.b)("appShell/appPlayer",["saveFavoriteList","deleteFavoriteList"]))},vt={data:function(){return{query:"",refreshDelay:120}},computed:S()({},Object(U.c)("appShell/appPlayer",["searchHistory"])),methods:S()({onQueryChange:function(t){this.query=t},blurInput:function(){this.$refs.searchBox.blur()},addQuery:function(t){this.$refs.searchBox.setQuery(t)},saveSearch:function(){this.saveSearchHistory(this.query)}},Object(U.b)("appShell/appPlayer",["saveSearchHistory","deleteSearchHistory","clearSearchHistory"]))};function mt(t){t.dispatch("appShell/appHeader/setAppHeader",{show:!0,title:"Listen.",showMenu:!0,showBack:!1,showLogo:!1,actions:[{icon:"search",route:"/search"}]})}var gt={mixins:[pt],name:"index",metaInfo:{title:"Home",titleTemplate:"%s - Listen",meta:[{name:"keywords",content:"Listen PWA"},{name:"description",content:"听书~"}]},components:{Slider:X,Scroll:Q},created:function(){this._getBanner(),this._getRecommendList(),this._getRecommendMusic()},data:function(){return{discList:[],banner:[],recommendMusic:[]}},methods:S()({handlePlayList:function(t){var e=t.length>0?"60px":"";this.$refs.recommend.style.bottom=e,this.$refs.scroll.refresh()},_getBanner:function(){var t=this;it().then(function(e){if(e.status===st.a){var s=e.data.banners;t.banner=s.splice(4)}else console.error("Banner 获取失败")})},_getRecommendList:function(){var t=this;nt().then(function(e){e.status===st.a?t.discList=e.data.result:console.error("getRecommendList 获取失败")})},_getRecommendMusic:function(){var t=this;at().then(function(e){if(e.status===st.a){var s=e.data.result.map(function(t){return ut(t)});s.splice(9),t.recommendMusic=s}else console.error("getRecommendMusic 获取失败")})},loadImage:function(){this.checkedload||(this.$refs.scroll.refresh(),this.checkedload=!0)},selectList:function(t){this.$router.push({path:"/recommend/"+t.id}),this.setMuiscList(t)},selectSong:function(t){this.insertSong(t)}},Object(U.d)("appShell/appPlayer",{setMuiscList:"SET_MUSIC_LIST",setFullScreen:"SET_FULL_SCREEN"}),Object(U.b)("appShell/appPlayer",["insertSong"])),asyncData:function(){var t=h()(l.a.mark(function t(e){var s=e.store;e.route;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:mt(s);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){mt(this.$store)}};var yt=function(t){s("cmVA")},_t=Object(P.a)(gt,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"recommend",staticClass:"recommend"},[s("Scroll",{ref:"scroll",staticClass:"recommend-content",attrs:{data:t.discList}},[s("div",[t.banner.length?s("div",{staticClass:"slider-wrapper"},[s("slider",t._l(t.banner,function(e){return s("div",{key:e.key},[s("a",{attrs:{href:e.linkUrl}},[s("img",{staticClass:"needsclick",attrs:{src:e.picUrl},on:{load:t.loadImage}})])])}))],1):t._e(),t._v(" "),s("div",{ref:"playList",staticClass:"recommend-list"},[t.discList.length?s("v-subheader",[t._v("推荐歌单")]):t._e(),t._v(" "),s("ul",t._l(t.discList,function(e){return s("li",{key:e.id,staticClass:"item"},[s("div",{staticClass:"icon",on:{click:function(s){t.selectList(e)}}},[s("div",{staticClass:"gradients"}),t._v(" "),s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"item.picUrl"}]})]),t._v(" "),s("p",{staticClass:"play-count"},[s("i",{staticClass:"material-icons platList_hot"},[t._v("headset")]),t._v("\n                "+t._s(Math.floor(e.playCount/1e4))+"万\n              ")]),t._v(" "),s("div",{staticClass:"text"},[s("p",{staticClass:"name"},[t._v(t._s(e.name))])])])}))],1),t._v(" "),s("div",{ref:"recommendSong",staticClass:"recommend-song"},[t.recommendMusic.length?s("v-subheader",[t._v("推荐歌曲")]):t._e(),t._v(" "),s("ul",t._l(t.recommendMusic,function(e){return s("li",{key:e.id,staticClass:"item",on:{click:function(s){t.selectSong(e)}}},[s("div",{staticClass:"icon"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"item.image"}]})]),t._v(" "),s("p",{staticClass:"text"},[t._v(t._s(e.name))]),t._v(" "),s("p",{staticClass:"singer"},[t._v(t._s(e.singer))])])}))],1)])]),t._v(" "),s("router-view")],1)},[],!1,yt,"data-v-cb1c2c5a",null).exports;var wt={props:{title:{type:String,default:"正在载入"}}},Ct=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading"},[e("img",{attrs:{src:s("oj8x"),width:"24",height:"24"}})])}];var St=function(t){s("iDkY")},bt=Object(P.a)(wt,function(){this.$createElement;this._self._c;return this._m(0)},Ct,!1,St,"data-v-60c299dd",null).exports;function Lt(t){t.dispatch("appShell/appHeader/setAppHeader",{show:!0,title:"Listenr",showMenu:!0,showBack:!1,showLogo:!1,actions:[{icon:"search",route:"/search"}]})}var At=[0,1,2,3,4,22,23],xt={mixins:[pt],data:function(){return{yunTopList:[],showLoading:!0}},created:function(){this._getTopList()},asyncData:function(){var t=h()(l.a.mark(function t(e){var s=e.store;e.route;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Lt(s);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),methods:S()({handlePlayList:function(t){var e=t.length>0?"60px":"";this.$refs.rank.style.bottom=e,this.$refs.scroll.refresh()},selectItem:function(t){this.$router.push({path:"/rank/"+t.id}),this.setTopList(t)},_getTopList:function(){for(var t,e,s=this,i=0;i<At.length;i++)(t=At[i],void 0,e=st.b+"/top/list?idx="+t,et.a.get(e)).then(function(t){var e=t.data.playlist;e.top=t.data.playlist.tracks.slice(0,3),s.yunTopList.push(e)}),i===At.length-1&&(this.showLoading=!1)}},Object(U.d)("appShell/appPlayer",{setTopList:"SET_TOP_LIST"})),components:{Scroll:Q,Loading:bt}};var Tt=function(t){s("UwIp")},kt=Object(P.a)(xt,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"rank",staticClass:"rank"},[s("scroll",{ref:"scroll",staticClass:"toplist",attrs:{data:t.yunTopList}},[s("ul",t._l(t.yunTopList,function(e){return s("li",{key:e.id,staticClass:"item",on:{click:function(s){t.selectItem(e)}}},[s("div",{staticClass:"icon"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.coverImgUrl,expression:"item.coverImgUrl"}],attrs:{width:"100",height:"100"}})]),t._v(" "),s("ul",{staticClass:"songlist"},t._l(e.top,function(e,i){return s("li",{key:i,staticClass:"song"},[s("span",[t._v(t._s(i+1)+".")]),t._v(" "),s("span",[t._v(t._s(e.name)+" - "+t._s(e.ar[0].name))])])}))])})),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}],staticClass:"loading-content"},[s("loading")],1)]),t._v(" "),s("router-view")],1)},[],!1,Tt,"data-v-233a82a9",null).exports,It={props:{songs:{type:Array}},computed:{},methods:{selectItem:function(t,e){this.$emit("select",t,e)},getDesc:function(t){return t.aliaName?t.singer+" - "+t.aliaName:""+t.singer}}};var Et=function(t){s("d+dr")},Pt=Object(P.a)(It,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"song-list"},[s("ul",t._l(t.songs,function(e,i){return s("li",{key:e.id,staticClass:"item",on:{click:function(s){t.selectItem(e,i)}}},[s("p",{staticClass:"count"},[t._v(t._s(i+1))]),t._v(" "),s("div",{staticClass:"content"},[s("h2",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),s("p",{staticClass:"desc"},[t._v(t._s(t.getDesc(e)))])])])}))])},[],!1,Et,"data-v-1a6b7df6",null).exports;function Ot(t){t.dispatch("appShell/appHeader/setAppHeader",{show:!1})}var Mt={mixins:[pt],asyncData:function(){var t=h()(l.a.mark(function t(e){var s=e.store;e.route;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Ot(s);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){Ot(this.$store)},data:function(){return{listDetail:[],scrollY:0,node:null,headerTitle:"歌手"}},created:function(){this.topList.id||this.$router.push("/rank"),this._normalizeSongs(this.topList.tracks),this.probeType=3,this.listenScroll=!0},mounted:function(){this.imageHeight=this.$refs.bgImage.clientHeight,this.minTranslateY=44-this.imageHeight},computed:S()({headerTitleTouchDown:function(){return this.topList.name},bgStyle:function(){return"background-image: url("+this.topList.coverImgUrl+")"},title:function(){return this.headerTitleTouchDown},updateTime:function(){var t=new Date(this.topList.updateTime);return"最近更新:"+(t.getMonth()+1)+"月"+t.getDate()+"日"}},Object(U.c)("appShell/appPlayer",["topList"])),methods:S()({handlePlayList:function(t){var e=t.length>0?"60px":"";this.$refs.list.$el.style.bottom=e,this.$refs.list.refresh()},_normalizeSongs:function(t){if(this.topList.id){var e=[];t.forEach(function(t){e.push(ht(t))}),this.listDetail=e}else this.$router.push("/rank")},selectItem:function(t,e){this.selectPlay({list:this.listDetail,index:e})},scroll:function(t){this.scrollY=t.y},back:function(){this.$router.back()},sequence:function(){var t=this.listDetail;this.sequencePlay({list:t})}},Object(U.b)("appShell/appPlayer",["selectPlay","sequencePlay"])),watch:{scrollY:function(t){var e=Math.abs(t/this.imageHeight);t<this.minTranslateY+44-20?this.headerTitle=this.headerTitleTouchDown:this.headerTitle="歌手",this.$refs.header.style.background=t<0?"rgba(25,118,210, "+e+")":"rgba(25,118,210, 0)"}},components:{SongList:Pt,Scroll:Q,Loading:bt}};var Rt=function(t){s("2a4D")},jt=Object(P.a)(Mt,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide"}},[s("div",{staticClass:"music-list"},[s("div",{ref:"header",staticClass:"header"},[s("div",{staticClass:"back",on:{click:t.back}},[s("i",{staticClass:"material-icons _back"},[t._v("\r\nchevron_left\r\n")])]),t._v(" "),s("div",{staticClass:"text"},[s("h1",{staticClass:"title"},[t._v(t._s(t.headerTitle))])])]),t._v(" "),s("scroll",{ref:"list",staticClass:"list",attrs:{"probe-type":t.probeType,"listen-scroll":t.listenScroll},on:{scroll:t.scroll}},[s("div",{staticClass:"music-list-wrapper"},[s("div",{ref:"bgImage",staticClass:"bg-image",style:t.bgStyle},[s("div",{staticClass:"filter"}),t._v(" "),s("div",{staticClass:"text"},[s("h2",{staticClass:"list-title"},[t._v("\r\n              "+t._s(t.title)+"\r\n            ")]),t._v(" "),s("p",{staticClass:"update"},[t._v(t._s(t.updateTime))])])]),t._v(" "),s("div",{staticClass:"song-list-wrapper"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.listDetail.length,expression:"listDetail.length"}],staticClass:"sequence-play",on:{click:t.sequence}},[s("i",{staticClass:"iconfont icon-bofangicon"}),t._v(" "),s("span",{staticClass:"text"},[t._v("播放全部")]),t._v(" "),s("span",{staticClass:"count"},[t._v("(共"+t._s(t.listDetail.length)+"首)")])]),t._v(" "),s("song-list",{attrs:{songs:t.listDetail},on:{select:t.selectItem}})],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.listDetail.length,expression:"!listDetail.length"}],staticClass:"loading-content"},[s("loading")],1)])],1)])},[],!1,Rt,"data-v-dfb23bd4",null).exports;function Dt(t){t.dispatch("appShell/appHeader/setAppHeader",{show:!0,title:"Listen",showMenu:!0,showBack:!1,showLogo:!1,actions:[{icon:"search",route:"/search"}]})}var qt={mixins:[pt],name:"index",metaInfo:{title:"Home",titleTemplate:"%s - Listen",meta:[{name:"keywords",content:"Listen PWA"},{name:"description",content:"听书~"}]},components:{Slider:X,Scroll:Q},created:function(){this._getBanner(),this._getRecommendList(),this._getRecommendMusic()},data:function(){return{discList:[],banner:[],recommendMusic:[]}},methods:S()({handlePlayList:function(t){var e=t.length>0?"60px":"";this.$refs.recommend.style.bottom=e,this.$refs.scroll.refresh()},_getBanner:function(){var t=this;it().then(function(e){if(e.status===st.a){var s=e.data.banners;t.banner=s.splice(4)}else console.error("Banner 获取失败")})},_getRecommendList:function(){var t=this;nt().then(function(e){e.status===st.a?t.discList=e.data.result:console.error("getRecommendList 获取失败")})},_getRecommendMusic:function(){var t=this;at().then(function(e){if(e.status===st.a){var s=e.data.result.map(function(t){return ut(t)});s.splice(9),t.recommendMusic=s}else console.error("getRecommendMusic 获取失败")})},loadImage:function(){this.checkedload||(this.$refs.scroll.refresh(),this.checkedload=!0)},selectList:function(t){this.$router.push({path:"/recommend/"+t.id}),this.setMuiscList(t)},selectSong:function(t){this.insertSong(t)}},Object(U.d)("appShell/appPlayer",{setMuiscList:"SET_MUSIC_LIST",setFullScreen:"SET_FULL_SCREEN"}),Object(U.b)("appShell/appPlayer",["insertSong"])),asyncData:function(){var t=h()(l.a.mark(function t(e){var s=e.store;e.route;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Dt(s);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),activated:function(){Dt(this.$store)}};var Nt=function(t){s("j7h2")},Ht=Object(P.a)(qt,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"recommend",staticClass:"recommend"},[s("Scroll",{ref:"scroll",staticClass:"recommend-content",attrs:{data:t.discList}},[s("div",[t.banner.length?s("div",{staticClass:"slider-wrapper"},[s("slider",t._l(t.banner,function(e){return s("div",{key:e.key},[s("a",{attrs:{href:e.linkUrl}},[s("img",{staticClass:"needsclick",attrs:{src:e.picUrl},on:{load:t.loadImage}})])])}))],1):t._e(),t._v(" "),s("div",{ref:"playList",staticClass:"recommend-list"},[t.discList.length?s("v-subheader",[t._v("推荐歌单")]):t._e(),t._v(" "),s("ul",t._l(t.discList,function(e){return s("li",{key:e.id,staticClass:"item"},[s("div",{staticClass:"icon",on:{click:function(s){t.selectList(e)}}},[s("div",{staticClass:"gradients"}),t._v(" "),s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"item.picUrl"}]})]),t._v(" "),s("p",{staticClass:"play-count"},[s("i",{staticClass:"material-icons platList_hot"},[t._v("headset")]),t._v("\n                "+t._s(Math.floor(e.playCount/1e4))+"万\n              ")]),t._v(" "),s("div",{staticClass:"text"},[s("p",{staticClass:"name"},[t._v(t._s(e.name))])])])}))],1),t._v(" "),s("div",{ref:"recommendSong",staticClass:"recommend-song"},[t.recommendMusic.length?s("v-subheader",[t._v("推荐歌曲")]):t._e(),t._v(" "),s("ul",t._l(t.recommendMusic,function(e){return s("li",{key:e.id,staticClass:"item",on:{click:function(s){t.selectSong(e)}}},[s("div",{staticClass:"icon"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"item.image"}]})]),t._v(" "),s("p",{staticClass:"text"},[t._v(t._s(e.name))]),t._v(" "),s("p",{staticClass:"singer"},[t._v(t._s(e.singer))])])}))],1)])]),t._v(" "),s("router-view")],1)},[],!1,Nt,"data-v-a9983a9a",null).exports,Wt={mixins:[pt],data:function(){return{listDetail:[],scrollY:0,headerTitle:"歌单"}},created:function(){this._getRecommendListDetail(this.musicList.id),this.probeType=3,this.listenScroll=!0},mounted:function(){this.imageHeight=this.$refs.bgImage.clientHeight,this.minTranslateY=44-this.imageHeight},computed:S()({playCount:function(){if(this.musicList.playCount)return this.musicList.playCount<1e5?Math.floor(this.musicList.playCount):Math.floor(this.musicList.playCount/1e4)+"万"},bgStyle:function(){return"background-image: url("+this.musicList.picUrl+")"},title:function(){return this.musicList.name}},Object(U.c)("appShell/appPlayer",["musicList"])),methods:S()({handlePlayList:function(t){console.log(t);var e=t.length>0?"60px":"";this.$refs.list.$el.style.bottom=e,this.$refs.list.refresh()},selectItem:function(t,e){this.selectPlay({list:this.listDetail,index:e})},scroll:function(t){this.scrollY=t.y},back:function(){this.$router.back()},_getRecommendListDetail:function(t){var e=this;t?function(t){var e=st.b+"/playlist/detail?id="+t;return et.a.get(e)}(t).then(function(t){t.status===st.a?(console.log(t.data.playlist.tracks),e.listDetail=t.data.playlist.tracks.map(function(t){return new ct({id:(e=t).id,singer:lt(e.ar),name:e.name,album:e.al.name,image:e.al.picUrl});var e})):console.error("getRecommendListDetail 获取失败！")}):this.$router.push("/")},sequence:function(){var t=this.listDetail;this.sequencePlay({list:t})}},Object(U.b)("appShell/appPlayer",["selectPlay","sequencePlay"])),watch:{scrollY:function(t){var e=Math.abs(t/this.imageHeight);t<this.minTranslateY+44-20?this.headerTitle=this.musicList.name:this.headerTitle="歌单",this.$refs.header.style.background=t<0?"rgba(25,118,210, "+e+")":"rgba(25,118,210, 0)"}},components:{SongList:Pt,Scroll:Q,Loading:bt}};var Bt=function(t){s("6r/8")},Ut=Object(P.a)(Wt,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide",mode:"out-in"}},[s("div",{staticClass:"music-list"},[s("div",{ref:"header",staticClass:"header"},[s("div",{staticClass:"back",on:{click:t.back}},[s("i",{staticClass:"fa fa-angle-left"})]),t._v(" "),s("div",{staticClass:"text"},[s("h1",{staticClass:"title"},[t._v(t._s(t.headerTitle))])])]),t._v(" "),s("scroll",{ref:"list",staticClass:"list",attrs:{"probe-type":t.probeType,"listen-scroll":t.listenScroll,data:t.listDetail},on:{scroll:t.scroll}},[s("div",{staticClass:"music-list-wrapper"},[s("div",{ref:"bgImage",staticClass:"bg-image",style:t.bgStyle},[s("div",{staticClass:"filter"}),t._v(" "),s("div",{staticClass:"text"},[s("h2",{staticClass:"list-title"},[t._v(t._s(t.title))]),t._v(" "),t.playCount?s("p",{staticClass:"play-count"},[s("i",{staticClass:"fa fa-headphones"}),t._v("\r\n              "+t._s(t.playCount)+"\r\n            ")]):t._e()])]),t._v(" "),s("div",{staticClass:"song-list-wrapper"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.listDetail.length,expression:"listDetail.length"}],staticClass:"sequence-play",on:{click:t.sequence}},[s("i",{staticClass:"iconfont icon-bofangicon"}),t._v(" "),s("span",{staticClass:"text"},[t._v("播放全部")]),t._v(" "),s("span",{staticClass:"count"},[t._v("(共"+t._s(t.listDetail.length)+"首)")])]),t._v(" "),s("song-list",{attrs:{songs:t.listDetail},on:{select:t.selectItem}})],1)])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.listDetail.length,expression:"!listDetail.length"}],staticClass:"loading-content"},[s("loading")],1)],1)])},[],!1,Bt,"data-v-10802de0",null).exports,$t=s("S2OJ"),Yt={props:{placeholder:{type:String,default:"搜索歌曲、歌手"}},data:function(){return{query:"",clickInfo:"搜索"}},created:function(){var t=this;this.$watch("query",Object($t.a)(function(e){t.$emit("query",e)},300))},methods:{clear:function(){this.query=""},setQuery:function(t){this.query=t}}};var Ft=function(t){s("VPQJ")},Qt=Object(P.a)(Yt,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"box",attrs:{placeholder:t.placeholder,type:"text"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),s("i",{directives:[{name:"show",rawName:"v-show",value:t.query,expression:"query"}],staticClass:"icon-delete",on:{click:t.clear}})])},[],!1,Ft,"data-v-0e236e1d",null).exports,zt=function t(e){var s=e.id,i=e.name,n=e.avatar,a=e.aliaName;ot()(this,t),this.id=s,this.name=i,this.avatar=n,this.aliaName=a};function Jt(t,e){var s=st.b+"/search/search?keywords="+t+"&offset="+e;return et.a.get(s)}var Gt={props:{query:{type:String,default:""},showSinger:{type:Boolean,default:!0},showList:{type:Boolean,default:!0}},data:function(){return{singer:{},songs:[],suggest:{},searchShow:!0,page:0,update:!0,haveMore:!0}},computed:{},methods:S()({selectList:function(t){console.log("item",t);var e={};e.name=t.name,e.id=t.id,e.picUrl=t.coverImgUrl,e.playCount=t.playCount,this.$router.push({path:"/recommend/"+e.id}),this.setMusicList(e),this.$emit("select")},selectItem:function(t){var e=new zt({id:t.id,name:t.name,avatar:t.img1v1Url});this.$router.push({path:"/singer/"+e.id}),this.setSinger(e),this.$emit("select")},selectSong:function(t){var e,s,i=this;(e=t.id,s=st.b+"/song/detail?ids="+e,et.a.get(s)).then(function(e){t.image=e.data.songs[0].al.picUrl,i.insertSong(t)}),this.$emit("select")},search:function(){var t,e,s=this;this.searchShow=!1,this.haveMore=!0,Jt(this.query,this.page).then(function(t){if(t.data.result.songs){var e=[];t.data.result.songs.forEach(function(t){e.push(dt(t))}),s.songs=e,s.$emit("refresh")}else s.haveMore=!1}),this.page+=30,(t=this.query,e=st.b+"/search/suggest?keywords="+t,et.a.get(e)).then(function(t){s.suggest=t.data.result})},searchMore:function(){var t=this;console.log("searchMore"),this.haveMore&&this.songs.length&&Jt(this.query,this.page).then(function(e){var s=e.data.result.songs;if(e.data.result.songs){var i=[];s.forEach(function(t){i.push(dt(t))}),t.songs=t.songs.concat(i),t.$emit("refresh"),t.page+=30}else t.haveMore=!1})}},Object(U.d)("appShell/appPlayer",{setSinger:"SET_SINGER",setMusicList:"SET_MUSIC_LIST"}),Object(U.b)("appShell/appPlayer",["insertSong"])),watch:{query:function(t){if(""===t)return this.suggest={},this.songs=[],void(this.haveMore=!1);this.suggest={},this.songs=[],this.searchShow=!0,this.page=0,this.haveMore=!0,this.search()},songs:function(t){}},components:{Loading:bt}};var Zt=function(t){s("Lt1Q")},Vt=Object(P.a)(Gt,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"suggest"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.searchShow&&t.query&&t.songs.length>0,expression:"!searchShow && query && songs.length > 0"}],staticClass:"search-suggest"},[s("p",{directives:[{name:"show",rawName:"v-show",value:t.showSinger&&t.showList,expression:"showSinger && showList"}],staticClass:"title"},[t._v("最佳匹配")]),t._v(" "),t.suggest.artists&&t.showSinger?s("div",{staticClass:"search-suggest-item",on:{click:function(e){t.selectItem(t.suggest.artists[0])}}},[s("img",{attrs:{src:t.suggest.artists[0].img1v1Url,width:"50",height:"50"}}),t._v(" "),s("span",[t._v("歌手："+t._s(t.suggest.artists[0].name))])]):t._e(),t._v(" "),t.suggest.playlists&&t.showList?s("div",{staticClass:"search-suggest-item",on:{click:function(e){t.selectList(t.suggest.playlists[0])}}},[s("img",{attrs:{src:t.suggest.playlists[0].coverImgUrl,width:"50",height:"50"}}),t._v(" "),s("div",{staticClass:"text"},[s("p",[t._v("歌单："+t._s(t.suggest.playlists[0].name))]),t._v(" "),s("p",{staticClass:"singer"},[t._v(t._s(t.suggest.albums[0].artist.name))])])]):t._e()]),t._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:!t.searchShow,expression:"!searchShow"}],ref:"suggestList",staticClass:"suggest-list"},[t._l(t.songs,function(e,i){return s("li",{key:i,staticClass:"suggest-item",on:{click:function(s){t.selectSong(e)}}},[t._m(0,!0),t._v(" "),s("div",{staticClass:"name"},[s("p",{staticClass:"song"},[t._v(t._s(e.name))]),t._v(" "),s("p",{staticClass:"singer"},[t._v(t._s(e.singer))])])])}),t._v(" "),s("loading",{directives:[{name:"show",rawName:"v-show",value:t.haveMore&&t.query,expression:"haveMore && query"}]})],2),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.haveMore&&!t.songs.length&&t.query,expression:"!haveMore && !songs.length && query"}],staticClass:"no-result-wrapper"},[t._v("\n    抱歉，暂无搜索结果\n  ")])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon"},[e("i")])}],!1,Zt,"data-v-42091f8c",null).exports,Kt={props:{text:{type:String,default:""},confirmBtnText:{type:String,default:"确定"},cancelBtnText:{type:String,default:"取消"}},data:function(){return{showFlag:!1}},methods:{show:function(){this.showFlag=!0},hide:function(){this.showFlag=!1},cancel:function(){this.hide(),this.$emit("cancel")},confirm:function(){this.hide(),this.$emit("confirm")}}};var Xt=function(t){s("xdvX")},te=Object(P.a)(Kt,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"confirm-fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"showFlag"}],staticClass:"confirm",on:{click:function(e){return e.stopPropagation(),t.hide(e)}}},[s("div",{staticClass:"confirm-wrapper"},[s("div",{staticClass:"confirm-content"},[s("p",{staticClass:"text"},[t._v(t._s(t.text))]),t._v(" "),s("div",{staticClass:"operate"},[s("div",{staticClass:"operate-btn left",on:{click:t.cancel}},[t._v(t._s(t.cancelBtnText))]),t._v(" "),s("div",{staticClass:"operate-btn",on:{click:t.confirm}},[t._v(t._s(t.confirmBtnText))])])])])])])},[],!1,Xt,"data-v-1075812b",null).exports,ee={props:{searches:{type:Array}},methods:{selectItem:function(t){this.$emit("select",t)},deleteOne:function(t){this.$emit("delete",t)}}};var se=function(t){s("yfi1")},ie={mixins:[vt,pt],data:function(){return{pullup:!0,hots:[]}},created:function(){this._getSearchHot()},methods:{back:function(){this.$router.back(),this.$refs.searchBox.clear()},showConfirm:function(){this.$refs.confirm.show()},_getSearchHot:function(){var t,e=this;(t=st.b+"/search/hot",et.a.get(t)).then(function(t){e.hots=t.data.result.hots,console.log(e.hots)})},onQueryChange:function(t){this.query=t},addQuery:function(t){this.$refs.searchBox.setQuery(t)},saveSearch:function(){this.saveSearchHistory(this.query)},searchMore:function(){this.$refs.suggest.searchMore()},refresh:function(){var t=this;setTimeout(function(){t.$refs.scroll.refresh()},20)},handlePlayList:function(t){var e=t.length>0?"60px":"";this.$refs.searchWrapper.style.bottom=e,this.refresh()}},components:{Scroll:Q,SearchBox:Qt,Suggest:Vt,SearchList:Object(P.a)(ee,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.searches.length,expression:"searches.length"}],staticClass:"search-list"},[s("transition-group",{attrs:{name:"list",tag:"ul"}},t._l(t.searches,function(e){return s("li",{key:e,staticClass:"search-item",on:{click:function(s){t.selectItem(e)}}},[s("span",{staticClass:"text"},[t._v(t._s(e))]),t._v(" "),s("span",{staticClass:"icon",on:{click:function(s){s.stopPropagation(),t.deleteOne(e)}}},[s("i",{staticClass:"icon-delete"})])])}))],1)},[],!1,se,"data-v-7cd1c930",null).exports,Confirm:te}};var ne=function(t){s("faRv")},ae=Object(P.a)(ie,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"search"}},[s("div",{ref:"searchWrapper",staticClass:"search"},[s("div",{staticClass:"search-box-wrapper"},[s("i",{staticClass:"fa fa-angle-left",on:{click:t.back}}),t._v(" "),s("search-box",{ref:"searchBox",on:{query:t.onQueryChange}})],1),t._v(" "),s("scroll",{ref:"scroll",staticClass:"search-scroll-wrapper",attrs:{pullup:t.pullup},on:{scrollToEnd:t.searchMore}},[s("div",{ref:"search"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.query,expression:"!query"}],staticClass:"search-hots"},[s("p",{staticClass:"title"},[t._v("热门搜索")]),t._v(" "),t._l(t.hots,function(e){return s("span",{key:e.id,staticClass:"search-hots-item",on:{click:function(s){t.addQuery(e.first)}}},[t._v("\n            "+t._s(e.first)+"\n          ")])})],2),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.query,expression:"!query"}],staticClass:"shortcut-wrapper"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.searchHistory.length,expression:"searchHistory.length"}],staticClass:"search-history"},[s("h1",{staticClass:"title"},[s("span",{staticClass:"text"},[t._v("搜索历史")]),t._v(" "),s("span",{staticClass:"clear",on:{click:t.showConfirm}},[s("i",{staticClass:"icon-clear"})])]),t._v(" "),s("search-list",{attrs:{searches:t.searchHistory},on:{select:t.addQuery,delete:t.deleteSearchHistory}})],1)]),t._v(" "),s("div",{staticClass:"search-result"},[s("suggest",{ref:"suggest",attrs:{query:t.query},on:{select:t.saveSearch,refresh:t.refresh}})],1)])]),t._v(" "),s("confirm",{ref:"confirm",attrs:{text:"是否清空历史记录？",confirmBtnText:"清空"},on:{confirm:t.clearSearchHistory}})],1)])},[],!1,ne,"data-v-01585c14",null).exports,re={props:{data:{type:Array}},data:function(){return{scrollY:-1,currentIndex:0}},created:function(){this.touch={},this.listenScroll=!0,this.listHeight=[],this.probeType=3},methods:{selectItem:function(t){this.$emit("select",t)},refresh:function(){this.$refs.listview.refresh()},scroll:function(t){this.scrollY=t.y},onShortcutStart:function(t){var e,s,i,n=(e=t.target,s="data-"+(s="index"),i?e.setAttribute(s,i):e.getAttribute(s)),a=t.touches[0];this.touch.y1=a.pageY,this.touch.anchorIndex=n,this._scrollTo(n)},onShortcutMove:function(t){var e=t.touches[0];this.touch.y2=e.pageY;var s=(this.touch.y2-this.touch.y1)/20|0,i=parseInt(this.touch.anchorIndex)+s;this._scrollTo(i)},_scrollTo:function(t){(t||0===t)&&(t<0?t=0:t>this.listHeight.length-2&&(t=this.listHeight.length-2),this.scrollY=-this.listHeight[t],this.$refs.listview.scrollToElement(this.$refs.listGroup[t],0))},_calculateHeight:function(){this.listHeight=[];var t=this.$refs.listGroup,e=0;this.listHeight.push(e);for(var s=0;s<t.length;s++){e+=t[s].clientHeight,this.listHeight.push(e)}}},watch:{data:function(){var t=this;setTimeout(function(){t._calculateHeight()},20)},scrollY:function(t){var e=this.listHeight;if(t>0)this.currentIndex=0;else{for(var s=0;s<e.length-1;s++){var i=e[s],n=e[s+1];if(-t>=i&&-t<n)return void(this.currentIndex=s)}this.currentIndex=e.length-2}}},computed:{shortcutList:function(){return this.data.map(function(t){return t.title.substr(0,1)})},fixedTitle:function(){return this.scrollY>0?"":this.data[this.currentIndex]?this.data[this.currentIndex].title:""}},components:{Scroll:Q}};var oe=function(t){s("gT5i")},ce=Object(P.a)(re,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("scroll",{ref:"listview",staticClass:"listview",attrs:{listenScroll:t.listenScroll,probeType:t.probeType,data:t.data},on:{scroll:t.scroll}},[s("ul",t._l(t.data,function(e){return s("li",{key:e.id,ref:"listGroup",refInFor:!0,staticClass:"list-group"},[s("h2",{staticClass:"list-group-title"},[t._v(t._s(e.title))]),t._v(" "),s("ul",t._l(e.items,function(e){return s("li",{key:e.id,staticClass:"list-group-item",on:{click:function(s){t.selectItem(e)}}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.avatar,expression:"item.avatar"}],staticClass:"avatar"}),t._v(" "),s("span",{staticClass:"name"},[t._v(t._s(e.name))])])}))])})),t._v(" "),s("div",{staticClass:"list-shortcut",on:{touchstart:t.onShortcutStart,touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.onShortcutMove(e)}}},[s("ul",t._l(t.shortcutList,function(e,i){return s("li",{key:e.id,staticClass:"item",class:{current:t.currentIndex===i},attrs:{"data-index":i}},[t._v("\n        "+t._s(e)+"\n      ")])}))])])},[],!1,oe,"data-v-fac9caec",null).exports;var le=s("mLlr");function ue(t){t.dispatch("appShell/appHeader/setAppHeader",{show:!0,title:"Listenr",showMenu:!0,showBack:!1,showLogo:!1,actions:[{icon:"search",route:"/search"}]})}var he={mixins:[pt],data:function(){return{singers:[]}},created:function(){this._getSingers()},asyncData:function(){var t=h()(l.a.mark(function t(e){var s=e.store;e.route;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:ue(s);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),methods:S()({selectSinger:function(t){this.$router.push({path:"/singer/"+t.id}),this.setSinger(t)},handlePlayList:function(t){var e=t.length>0?"60px":"";this.$refs.singer.style.bottom=e,this.$refs.list.refresh()},_getSingers:function(){var t,e=this;(t=st.b+"/top/artists?limit=100",et.a.get(t)).then(function(t){var s=t.data.artists;s.map(function(t){var e=le(t.name[0],{style:le.STYLE_FIRST_LETTER});t.initial=e[0][0].toUpperCase()}),e.singers=e._normalizeSinger(s)})},_normalizeSinger:function(t){var e={hot:{title:"热门",items:[]}};t.forEach(function(t,s){s<10&&e.hot.items.push(new zt({id:t.id,name:t.name,avatar:t.img1v1Url,aliaName:t.alias.join(" / ")}));var i=t.initial;e[i]||(e[i]={title:i,items:[]}),e[i].items.push(new zt({id:t.id,name:t.name,avatar:t.img1v1Url,aliaName:t.alias[0]}))});var s=[],i=[];for(var n in e){var a=e[n];a.title.match(/[A-Z]/)?i.push(a):"热门"===a.title&&s.push(a)}return i.sort(function(t,e){return t.title.charCodeAt(0)-e.title.charCodeAt(0)}),s.concat(i)}},Object(U.d)("appShell/appPlayer",{setSinger:"SET_SINGER"})),components:{ListView:ce}};var de=function(t){s("N/eN")},pe=Object(P.a)(he,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"singer",staticClass:"singer"},[e("list-view",{ref:"list",attrs:{data:this.singers},on:{select:this.selectSinger}}),this._v(" "),e("router-view")],1)},[],!1,de,"data-v-7ca60f40",null).exports;var fe={mixins:[pt],props:{songs:{type:Array}},activated:function(){this.$store.dispatch("appShell/appHeader/setAppHeader",{show:!1})},data:function(){return{listDetail:[],scrollY:0,node:null,headerTitle:"歌手"}},created:function(){this._getDetail(),this.probeType=3,this.listenScroll=!0},mounted:function(){this.imageHeight=this.$refs.bgImage.clientHeight,this.minTranslateY=44-this.imageHeight},computed:S()({headerTitleTouchDown:function(){return this.singer.aliaName?this.singer.name+" ("+this.singer.aliaName+")":this.singer.name},bgStyle:function(){return"background-image: url("+this.singer.avatar+")"},title:function(){return this.headerTitleTouchDown}},Object(U.c)("appShell/appPlayer",["singer"])),methods:S()({handlePlayList:function(t){var e=t.length>0?"60px":"";this.$refs.list.$el.style.bottom=e,this.$refs.list.refresh()},_getDetail:function(){var t,e,s=this;this.singer.id||this.$router.push("/singer"),(t=this.singer.id,e=st.b+"/artists?id="+t,et.a.get(e)).then(function(t){t.status===st.a&&(s.node=t.data.hotSongs)})},_normalizeSongs:function(t){var e=[];return t.forEach(function(t){e.push(ht(t))}),e},selectItem:function(t,e){this.selectPlay({list:this.listDetail,index:e})},scroll:function(t){this.scrollY=t.y},back:function(){this.$router.back()},sequence:function(){var t=this.listDetail;this.sequencePlay({list:t})}},Object(U.b)("appShell/appPlayer",["selectPlay","sequencePlay"])),watch:{node:function(t){this.listDetail=this._normalizeSongs(t)},scrollY:function(t){var e=Math.abs(t/this.imageHeight);t<this.minTranslateY+44-20?this.headerTitle=this.headerTitleTouchDown:this.headerTitle="歌手",this.$refs.header.style.background=t<0?"rgba(25,118,210, "+e+")":"rgba(25,118,210, 0)"}},components:{SongList:Pt,Scroll:Q,Loading:bt}};var ve=function(t){s("12EE")},me=Object(P.a)(fe,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide"}},[s("div",{staticClass:"music-list"},[s("div",{ref:"header",staticClass:"header"},[s("div",{staticClass:"back",on:{click:t.back}},[s("i",{staticClass:"fa fa-angle-left"})]),t._v(" "),s("div",{staticClass:"text"},[s("h1",{staticClass:"title"},[t._v(t._s(t.headerTitle))])])]),t._v(" "),s("scroll",{ref:"list",staticClass:"list",attrs:{"probe-type":t.probeType,"listen-scroll":t.listenScroll,data:t.listDetail},on:{scroll:t.scroll}},[s("div",{staticClass:"music-list-wrapper"},[s("div",{ref:"bgImage",staticClass:"bg-image",style:t.bgStyle},[s("div",{staticClass:"filter"}),t._v(" "),s("div",{staticClass:"text"},[s("h2",{staticClass:"list-title"},[t._v(t._s(t.title))])])]),t._v(" "),s("div",{staticClass:"song-list-wrapper"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.listDetail.length,expression:"listDetail.length"}],staticClass:"sequence-play",on:{click:t.sequence}},[s("i",{staticClass:"iconfont icon-bofangicon"}),t._v(" "),s("span",{staticClass:"text"},[t._v("播放全部")]),t._v(" "),s("span",{staticClass:"count"},[t._v("(共"+t._s(t.listDetail.length)+"首)")])]),t._v(" "),s("song-list",{attrs:{songs:t.listDetail},on:{select:t.selectItem}})],1)]),t._v(" "),s("div",{staticClass:"loading-content"},[s("loading")],1)])],1)])},[],!1,ve,"data-v-78125ed1",null).exports,ge={props:{switches:{type:Array},currentIndex:{type:Number,default:0}},methods:{switchItem:function(t){this.$emit("switch",t)}}};var ye=function(t){s("ZiwZ")},_e=Object(P.a)(ge,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"switches"},t._l(t.switches,function(e,i){return s("li",{key:e.id,staticClass:"switch-item",class:{active:t.currentIndex===i},on:{click:function(e){t.switchItem(i)}}},[s("span",[t._v(t._s(e.name))])])}))},[],!1,ye,"data-v-49ee2a9f",null).exports,we={props:{title:{type:String,default:""}}};var Ce=function(t){s("0J0P")},Se=Object(P.a)(we,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"no-result"},[this._m(0),this._v(" "),e("p",{staticClass:"no-result-text"},[this._v(this._s(this.title))])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"no-result-icon"},[e("i",{staticClass:"fa fa-music"})])}],!1,Ce,"data-v-6ef2a6c0",null).exports,be={data:function(){return{currentIndex:0,switches:[{name:"我的收藏"},{name:"最近播放"}]}},computed:S()({noResult:function(){return 0===this.currentIndex?!this.favoriteList.length:!this.playHistory.length},count:function(){return 0===this.currentIndex?this.favoriteList.length:this.playHistory.length},noResultDesc:function(){return 0===this.currentIndex?"去寻找属于你自己最爱的MUSIC吧~":"你还没有听过歌呀~"}},Object(U.c)("appShell/appPlayer",["favoriteList","playHistory"])),methods:S()({back:function(){this.$router.back()},switchItem:function(t){this.currentIndex=t},selectSong:function(t){this.insertSong(t)},sequence:function(){var t=0===this.currentIndex?this.favoriteList:this.playHistory;0!==t.length&&this.sequencePlay({list:t})}},Object(U.b)("appShell/appPlayer",["insertSong","sequencePlay"])),components:{Switches:_e,SongList:Pt,Scroll:Q,NoResult:Se}};var Le=function(t){s("C86c")},Ae=[{path:"/appshell",component:O,meta:{},name:"appshell"},{path:"/detail/:id",component:q,meta:{},name:"detailId"},{path:"/",component:_t,meta:{},name:"index"},{path:"/rank",component:kt,meta:{},name:"rank",children:[{path:":id",component:jt,meta:{},name:"rankId"}]},{path:"/recommend",component:Ht,meta:{},name:"recommend",children:[{path:":id",component:Ut,meta:{},name:"recommendId"}]},{path:"/search",component:ae,meta:{},name:"search"},{path:"/singer",component:pe,meta:{},name:"singer",children:[{path:":id",component:me,meta:{},name:"singerId"}]},{path:"/user",component:Object(P.a)(be,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide"}},[s("div",{staticClass:"user"},[s("div",{staticClass:"back",on:{click:t.back}},[s("i",{staticClass:"fa fa-angle-left"})]),t._v(" "),s("div",{staticClass:"switches-wrapper"},[s("switches",{attrs:{switches:t.switches,currentIndex:t.currentIndex},on:{switch:t.switchItem}})],1),t._v(" "),s("div",{staticClass:"sequence-play",on:{click:t.sequence}},[s("i",{staticClass:"iconfont icon-bofangicon"}),t._v(" "),s("span",{staticClass:"text"},[t._v("播放全部")]),t._v(" "),s("span",{staticClass:"count"},[t._v("(共"+t._s(t.count)+"首)")])]),t._v(" "),s("div",{ref:"listWrapper",staticClass:"list-wrapper"},[0===t.currentIndex?s("scroll",{ref:"favoriteList",staticClass:"list-scroll",attrs:{data:t.favoriteList}},[s("div",{staticClass:"list-inner"},[s("song-list",{attrs:{songs:t.favoriteList},on:{select:t.selectSong}})],1)]):t._e(),t._v(" "),1===t.currentIndex?s("scroll",{ref:"playList",staticClass:"list-scroll",attrs:{data:t.playHistory}},[s("div",{staticClass:"list-inner"},[s("song-list",{attrs:{songs:t.playHistory},on:{select:t.selectSong}})],1)]):t._e()],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.noResult,expression:"noResult"}],staticClass:"no-result-wrapper"},[s("no-result",{attrs:{title:t.noResultDesc}})],1)])])},[],!1,Le,"data-v-7efd1aa4",null).exports,meta:{},name:"user"},{path:"/error",component:B,meta:{},name:"error",alias:"*"}];d.a.use(I.a);var xe=["index"],Te=[],ke=[],Ie="LAVAS_HISTORY_ARRAY_STACK_LOCAL_KEY",Ee="LAVAS_HISTORY_STATE_STACK_LOCAL_KEY",Pe=[],Oe=!1;function Me(){return history.state?history.state.key:""}function Re(t,e){try{localStorage.setItem(t,"object"===(void 0===e?"undefined":k()(e))?x()(e):e)}catch(t){}}function je(t,e){var s,i=!0;return Oe?(s=Pe.indexOf(Me()),i=s===Pe.length-1||-1===s||(Pe.length=s+1,!1),setTimeout(function(){var t=Me(),e=Pe.indexOf(t);i&&-1===e&&Pe.push(t),Re(Ee,Pe)},300)):((i=function(t,e){var s=ke.indexOf(t.fullPath);return-1===s||(ke.length=s+1,!1)}(t))&&ke.push(t.fullPath),Re(Ie,ke)),t.name&&-1!==xe.indexOf(t.name)?i=!1:t.name&&-1!==Te.indexOf(t.name)&&(i=!0),i}Oe=window.history&&"state"in history;var De=function(t,e,s){if(s)return s;var i={};return t.hash&&(i.selector=t.hash),t.matched.some(function(t){return t.meta.scrollToTop})&&(i.x=0,i.y=0),i},qe=Ae.filter(function(t){return t.keepAlive||t.meta.keepAlive}).map(function(t){return t.name});function Ne(){var t=new I.a({mode:"history",base:"/",scrollBehavior:De,routes:Ae});return Oe?function(){if(history.length>1)try{var t=JSON.parse(localStorage.getItem(Ee));t&&t.length&&(Pe=t.slice(-history.length))}catch(t){}setTimeout(function(){Pe.length?Pe[Pe.length-1]=Me():Pe.push(Me())},300)}():function(t){var e=location.href.replace(location.origin+t,"/");try{var s=JSON.parse(localStorage.getItem(Ie));s&&s.length&&s[s.length-1]===e&&(ke=s)}catch(t){}-1===ke.indexOf(e)&&ke.push(e)}(t.options.base),t.beforeEach(function(e,s,i){if(t.app.$store&&t.app.$store.state.pageTransition.enable){var n=je(e)?"slide-left":"slide-right";t.app.$store.commit("pageTransition/setType","slide"),t.app.$store.commit("pageTransition/setEffect",n)}i()}),t}var He=s("woOf"),We=s.n(He),Be=s("BO1k"),Ue=s.n(Be);d.a.use(U.a);var $e=s("VfP6"),Ye=$e.keys(),Fe={},Qe=!0,ze=!1,Je=void 0;try{for(var Ge,Ze=Ue()(Ye);!(Qe=(Ge=Ze.next()).done);Qe=!0){var Ve=Ge.value;if("./index.js"===Ve){Fe=cs(Ve);break}}}catch(t){ze=!0,Je=t}finally{try{!Qe&&Ze.return&&Ze.return()}finally{if(ze)throw Je}}if("function"!=typeof Fe){Fe.modules=Fe.modules||{};var Ke=!0,Xe=!1,ts=void 0;try{for(var es,ss=Ue()(Ye);!(Ke=(es=ss.next()).done);Ke=!0){var is=es.value;if("./index.js"!==is){var ns=is.replace(/^\.\//,"").replace(/\.js$/,""),as=ns.split("/"),rs=ls(Fe,as);rs[ns=as.pop()]=cs(is),rs[ns].namespaced=!0}}}catch(t){Xe=!0,ts=t}finally{try{!Ke&&ss.return&&ss.return()}finally{if(Xe)throw ts}}}var os=Fe instanceof Function?Fe:function(){return new U.a.Store(We()({},Fe,{state:Fe.state instanceof Function?Fe.state():{}}))};function cs(t){var e=$e(t),s=e.default||e;if(s.commit)throw new Error("[lavas] store/"+t.replace("./","")+" should export a method which returns a Vuex instance.");if(s.state&&"function"!=typeof s.state)throw new Error("[lavas] state should be a function in store/"+t.replace("./",""));return s}function ls(t,e){if(1===e.length)return t.modules;var s=e.shift(),i=t.modules[s]=t.modules[s]||{};return i.namespaced=!0,i.modules=i.modules||{},ls(i,e)}var us=new d.a,hs={name:"appHeader",computed:S()({},Object(U.e)("appShell/appHeader",["show","showMenu","showBack","showLogo","logoIcon","_title","actions"]),Object(U.e)("appShell/common",["isPageSwitching"])),methods:{handleClick:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=e.actionIdx,i=e.route;if(!this.isPageSwitching){var n={};"action"===t&&(n.actionIdx=s),this.$emit("click-"+t,n),us.$emit("app-header:click-"+t,n),i&&this.$router.push(i)}}}};var ds=function(t){s("c79u")},ps=Object(P.a)(hs,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide-down"}},[s("header",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"app-header-wrapper"},[s("div",{staticClass:"app-header-left"},[t.showMenu?s("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.$router.push("/user")}}},[s("v-icon",{staticClass:"app-header-icon",attrs:{color:"white"}},[t._v("menu")])],1):t._e(),t._v(" "),t.showBack?s("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.handleClick("back")}}},[s("v-icon",{staticClass:"app-header-icon",attrs:{color:"white"}},[t._v("arrow_back")])],1):t._e(),t._v(" "),t.showLogo?s("div",{on:{click:function(e){t.handleClick("logo")}}},[t._t("logo",[t.logoIcon.src?s("img",{staticClass:"app-header-icon",attrs:{src:t.logoIcon.src,alt:t.logoIcon.alt}}):t._e()])],2):t._e()],1),t._v(" "),s("div",{staticClass:"app-header-middle"},[t._t("title",[t._v("\n                "+t._s(t._title)+"\n            ")])],2),t._v(" "),s("div",{staticClass:"app-header-right"},[t._l(t.actions,function(e,i){return t._t("actions",[s("v-btn",{attrs:{icon:"icon"},nativeOn:{click:function(s){t.handleClick("action",{actionIdx:i,route:e.route})}}},[e.icon?s("v-icon",{staticClass:"app-header-icon",attrs:{color:"white"}},[t._v(t._s(e.icon))]):t._e()],1)],{icon:e.icon,route:e.route})})],2)])])},[],!1,ds,"data-v-dc7e0c14",null).exports,fs={name:"appTabs",methods:{handleClick:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.actionIdx,e.route;t&&this.$router.push(t)}}};var vs=function(t){s("VfAp")},ms=Object(P.a)(fs,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tab"},[s("v-tabs",{attrs:{"fixed-tabs":""}},[s("v-tab",{on:{click:function(e){t.handleClick("/")}}},[t._v("推荐")]),t._v(" "),s("v-tab",{on:{click:function(e){t.handleClick("/rank")}}},[t._v("排行")]),t._v(" "),s("v-tab",{on:{click:function(e){t.handleClick("/singer")}}},[t._v("歌手")])],1)],1)},[],!1,vs,"data-v-21ea81ec",null).exports,gs={name:"appNav",methods:S()({openPlayer:function(){this.setFullScreen(!0)},closePlayer:function(){this.setFullScreen(!1)}},Object(U.d)("appShell/appPlayer",{setFullScreen:"SET_FULL_SCREEN"}))};var ys=function(t){s("ufho")},_s=Object(P.a)(gs,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",[s("nav",[s("v-bottom-nav",{staticClass:"app-nav-wrapper",attrs:{value:!0,absolute:"",color:"transparent"}},[s("v-btn",{attrs:{flat:"",color:"teal",value:"recent"}},[s("span",[t._v("home")]),t._v(" "),s("v-icon",[t._v("home")])],1),t._v(" "),s("v-btn",{attrs:{flat:"",color:"teal",value:"favorites"},nativeOn:{click:function(e){return t.openPlayer(e)}}},[s("span",[t._v("Music")]),t._v(" "),s("v-icon",[t._v("audiotrack")])],1),t._v(" "),s("v-btn",{attrs:{flat:"",color:"teal",value:"nearby"}},[s("span",[t._v("Find")]),t._v(" "),s("v-icon",[t._v("explore")])],1)],1)],1)])},[],!1,ys,"data-v-2e0eefde",null).exports,ws=Z("transform"),Cs={data:function(){return{newPercent:0}},props:{percent:{type:Number,default:0}},created:function(){this.touch={}},methods:{progressClick:function(t){var e=this.$refs.progressBar.getBoundingClientRect(),s=t.pageX-e.left;this._offset(s);var i=this.$refs.progressBar.clientWidth-16,n=this.$refs.progress.clientWidth/i;this.$emit("percentChangeEnd",n)},progressTouchStart:function(t){this.touch.initiated=!0,this.touch.startX=t.touches[0].pageX,this.touch.left=this.$refs.progress.clientWidth},progressTouchMove:function(t){if(this.touch.initiated){this._triggerPercent();var e=t.touches[0].pageX-this.touch.startX,s=Math.min(Math.min(this.$refs.progressBar.clientWidth-16,Math.max(0,this.touch.left+e)));this._offset(s)}},progressTouchEnd:function(t){this.touch.initiated=!1;var e=this.$refs.progressBar.clientWidth-16,s=this.$refs.progress.clientWidth/e;this.$emit("percentChangeEnd",s)},_triggerPercent:function(){var t=this.$refs.progressBar.clientWidth-16,e=this.$refs.progress.clientWidth/t;this.$emit("percentChange",e)},_offset:function(t){this.$refs.progress.style.width=t+"px",this.$refs.progressBtn.style[ws]="translate3d("+t+"px, 0, 0)"}},watch:{percent:function(t){if(t>=0&&!this.touch.initiated){var e=t*(this.$refs.progressBar.clientWidth-16);this._offset(e)}}}};var Ss=function(t){s("MVrw")},bs=Object(P.a)(Cs,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"progressBar",staticClass:"progress-bar",on:{click:t.progressClick}},[s("div",{staticClass:"bar-inner"},[s("div",{ref:"progress",staticClass:"progress"}),t._v(" "),s("div",{ref:"progressBtn",staticClass:"progress-btn-wrapper",on:{touchstart:function(e){return e.preventDefault(),t.progressTouchStart(e)},touchmove:function(e){return e.preventDefault(),t.progressTouchMove(e)},touchend:function(e){return e.preventDefault(),t.progressTouchEnd(e)}}},[s("div",{staticClass:"progress-btn"})])])])},[],!1,Ss,"data-v-15228657",null).exports,Ls=s("EhXH"),As=s.n(Ls),xs={props:{radius:{type:Number,default:100},percent:{type:Number,default:0}},data:function(){return{dashArray:100*Math.PI}},computed:{dashOffset:function(){return(1-this.percent)*this.dashArray}}};var Ts=function(t){s("ACk3")},ks=Object(P.a)(xs,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"progress-circle"},[e("svg",{attrs:{width:this.radius,height:this.radius,viewBox:"0 0 100 100",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[e("circle",{staticClass:"progress-background",attrs:{r:"50",cx:"50",cy:"50",fill:"transparent"}}),this._v(" "),e("circle",{staticClass:"progress-bar",attrs:{r:"50",cx:"50",cy:"50",fill:"transparent","stroke-dasharray":this.dashArray,"stroke-dashoffset":this.dashOffset}})]),this._v(" "),this._t("default")],2)},[],!1,Ts,"data-v-40caaeda",null).exports,Is=s("OKJt"),Es=s.n(Is),Ps={mixins:[ft],data:function(){return{showFlag:!1,refreshDelay:100}},components:{Scroll:Q,Confirm:te},computed:{modeText:function(){return this.mode===st.c.sequence?"顺序播放":this.mode===st.c.random?"随机播放":"单曲循环"}},methods:S()({},Object(U.b)(["deleteSong","deleteSongList"]),{deteleOne:function(t){this.deleteSong(t),this.playList.length||this.hide()},show:function(){var t=this;this.showFlag=!0,setTimeout(function(){t.$refs.listContent.refresh(),t.scrollToCurrent(t.currentSong)},20)},hide:function(){this.showFlag=!1},getCurrentIcon:function(t){return this.currentSong.id===t.id?"icon-play":""},selectiItem:function(t,e){this.mode===st.c.random&&(e=this.playList.findIndex(function(e){return e.id===t.id})),this.setCurrentIndex(e),this.setPlayingState(!0)},showConfirm:function(){this.$refs.confirm.show()},confirmClear:function(){this.deleteSongList(),this.hide()},scrollToCurrent:function(t){var e=this.sequenceList.findIndex(function(e){return t.id===e.id});this.$refs.listContent.scrollToElement(this.$refs.listItem[e],300)},addSong:function(){}}),watch:{currentSong:function(t,e){var s=this;this.showFlag&&t.id!==e.id&&setTimeout(function(){s.scrollToCurrent(t)},20)}}};var Os=function(t){s("dWm/")},Ms=Object(P.a)(Ps,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"list-fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"showFlag"}],staticClass:"playlist",on:{click:t.hide}},[s("div",{staticClass:"list-wrapper",on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"list-header"},[s("h1",{staticClass:"title"},[s("i",{staticClass:"icon",class:t.iconMode,on:{click:t.changeMode}}),t._v(" "),s("span",{staticClass:"text"},[t._v(t._s(t.modeText))]),t._v(" "),s("span",{staticClass:"clear",on:{click:t.showConfirm}},[s("i",{staticClass:"icon-clear"})])])]),t._v(" "),s("scroll",{ref:"listContent",staticClass:"list-content",attrs:{data:t.sequenceList,refreshDelay:t.refreshDelay}},[s("transition-group",{attrs:{tag:"ul",name:"list"}},t._l(t.sequenceList,function(e,i){return s("li",{key:e.id,ref:"listItem",refInFor:!0,staticClass:"item",on:{click:function(s){t.selectiItem(e,i)}}},[s("i",{staticClass:"current",class:t.getCurrentIcon(e)}),t._v(" "),s("span",{staticClass:"text"},[t._v(" "+t._s(e.name)+" ")]),t._v(" "),s("span",{staticClass:"like",on:{click:function(s){s.stopPropagation(),t.toggleFavorite(e)}}},[s("i",{class:t.getFavoriteIcon(e)})]),t._v(" "),s("span",{staticClass:"delete",on:{click:function(s){s.stopPropagation(),t.deteleOne(e)}}},[s("i",{staticClass:"icon-delete"})])])}))],1),t._v(" "),s("div",{staticClass:"list-operate"},[s("div",{staticClass:"add",on:{click:t.addSong}},[s("i",{staticClass:"icon-add"}),t._v(" "),s("span",{staticClass:"text"},[t._v("添加歌曲到队列")])])]),t._v(" "),s("div",{staticClass:"list-close",on:{click:function(e){t.hide()}}},[s("span",[t._v("关闭")])])],1),t._v(" "),s("confirm",{ref:"confirm",attrs:{text:"是否清空播放列表",confirmBtnText:"清空"},on:{confirm:t.confirmClear}})],1)])},[],!1,Os,"data-v-3e30e55b",null).exports;var Rs=Z("transform"),js=Z("transitionDuration"),Ds={mixins:[ft],data:function(){return{url:"",move:!1,songReady:!1,currentTime:0,radius:32,duration:0,percent:0,currentLyric:null,currentLineNum:0,currentShow:"cd",playingLyric:""}},components:{ProgressBar:bs,ProgressCircle:ks,Scroll:Q,PlayList:Ms},created:function(){this.touch={}},computed:S()({cdCls:function(){return this.playing?"play":"play pause"},playIcon:function(){return this.playing?"icon-pause":"icon-play"},miniIcon:function(){return this.playing?"pause":"play_arrow"},disableCls:function(){return this.songReady?"":"disable"},iconMode:function(){return this.mode===st.c.sequence?"icon-sequence":this.mode===st.c.loop?"icon-loop":"icon-random"},upDatecurrentLyric:function(){return this.noLyric?"暂无歌词":this.noLyric?void 0:"歌词加载中"}},Object(U.c)("appShell/appPlayer",["fullScreen","playing","currentIndex"])),watch:{currentSong:function(t,e){t.id&&t!==e&&(this.$refs.audio.pause(),this.$refs.audio.currentTime=0,this._getSong(t.id))},url:function(t){var e=this;console.log("id"+this.currentSong.id),this._getLyric(this.currentSong.id),this.$refs.audio.src=t;var s=setInterval(function(){e.duration=e.$refs.audio.duration,e.duration&&clearInterval(s)},150);this.setPlayingState(!0)},playing:function(t){console.log("play...")},currentTime:function(){this.percent=this.currentTime/this.duration}},methods:S()({_getSong:function(t){var e=this;(function(t){var e=st.b+"/music/url?id="+t;return et.a.get(e)})(t).then(function(t){e.url=t.data.data[0].url})},changeMode:function(){var t=(this.mode+1)%3;this.setPlayMode(t);var e=null;e=t===st.c.random?Object($t.b)(this.sequenceList):this.sequenceList,this._resetCurrentIndex(e),this.setPlaylist(e)},_resetCurrentIndex:function(t){var e=this,s=t.findIndex(function(t){return t.id===e.currentSong.id});this.setCurrentIndex(s)},percentChange:function(t){this.move=!0;var e=this.duration*t;this.currentTime=e,this.currentLyric&&this.currentLyric.seek(1e3*e)},percentChangeEnd:function(t){this.move=!1;var e=this.duration*t;this.$refs.audio.currentTime=e,this.playing||(this.$refs.audio.play(),this.setPlayingState(!0)),this.currentLyric&&this.currentLyric.seek(1e3*e)},updateTime:function(t){this.move||(this.currentTime=t.target.currentTime)},format:function(t){return((t|=0)/60|0)+":"+this._pad(t%60)},_pad:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,s=t.toString().length;s<e;)t="0"+t,s++;return t},_getLyric:function(t){var e=this;this.currentLyric&&(this.currentLyric.stop(),this.currentLyric=null),this.noLyric=!1,function(t){var e=st.b+"/lyric?id="+t;return et.a.get(e)}(t).then(function(t){e.currentLyric=new Es.a(t.data.lrc.lyric,e.handleLyric),e.playing&&(e.currentLyric.play(),e.currentLineNum=0)}).catch(function(t){console.log(t),e.currentLyric=null,e.noLyric=!0,e.currentLineNum=0})},handleLyric:function(t){var e=t.lineNum,s=t.txt;if(this.currentLineNum=e,e>5){var i=this.$refs.lyricLine[e-5];this.$refs.lyriclist.scrollToElement(i,1e3)}else this.$refs.lyriclist.scrollTo(0,0,1e3);this.playingLyric=s},ready:function(){this.songReady=!0,this.savePlayHistory(this.currentSong)},error:function(){this.songReady=!0},prev:function(){if(this.songReady){if(1===this.playList.length)this.loop();else{var t=this.currentIndex-1;-1===t&&(t=this.playList.length-1),this.setCurrentIndex(t),this.playing||this.togglePlaying()}this.songReady=!1}},next:function(){if(this.songReady){if(console.log(this.playList),1===this.playList.length)this.loop();else{var t=this.currentIndex+1;t===this.playList.length&&(t=0),this.setCurrentIndex(t),this.playing||this.togglePlaying()}this.songReady=!1}},ended:function(){this.mode===st.c.loop?this.loop():this.next()},loop:function(){this.$refs.audio.currentTime=0,this.$refs.audio.play(),this.currentLyric&&this.currentLyric.seek(0)},back:function(){this.setFullScreen(!1)},open:function(){this.setFullScreen(!0)},togglePlaying:function(){if(this.songReady){var t=this.$refs.audio;this.setPlayingState(!this.playing),this.playing?t.play():t.pause(),this.currentLyric&&this.currentLyric.togglePlay()}},middleTouchStart:function(t){this.touch.initiated=!0,this.touch.moved=!1;var e=t.touches[0];this.touch.startX=e.pageX,this.touch.startY=e.pageY},middleTouchMove:function(t){if(this.touch.initiated){var e=t.touches[0],s=e.pageX-this.touch.startX,i=e.pageY-this.touch.startY;if(!(Math.abs(i)>Math.abs(s))){this.touch.moved||(this.touch.moved=!0);var n="cd"===this.currentShow?0:-window.innerWidth,a=Math.min(0,Math.max(-window.innerWidth,n+s));this.touch.percent=Math.abs(a/window.innerWidth),this.$refs.lyriclist.$el.style[Rs]="translate3d("+a+"px,0,0)",this.$refs.lyriclist.$el.style[js]=0,this.$refs.middleL.style.opacity=1-this.touch.percent,this.$refs.middleL.style[js]=0}}},middleTouchEnd:function(){if(this.touch.moved){var t=void 0,e=void 0;"cd"===this.currentShow?this.touch.percent>.1?(t=-window.innerWidth,e=0,this.currentShow="lyric"):(t=0,e=1):this.touch.percent<.9?(t=0,this.currentShow="cd",e=1):(t=-window.innerWidth,e=0);this.$refs.lyriclist.$el.style[Rs]="translate3d("+t+"px,0,0)",this.$refs.lyriclist.$el.style[js]="300ms",this.$refs.middleL.style.opacity=e,this.$refs.middleL.style[js]="300ms",this.touch.initiated=!1}},enter:function(t,e){var s=this._getPosAndScale(),i={0:{transform:"translate3d("+s.x+"px,"+s.y+"px,0) scale("+s.scale+")"},60:{transform:"translate3d(0,0,0) scale(1.1)"},100:{transform:"translate3d(0,0,0) scale(1)"}};As.a.registerAnimation({name:"move",animation:i,presets:{duration:400,easing:"linear"}}),As.a.runAnimation(this.$refs.cdWrapper,"move",e)},afterEnter:function(){As.a.unregisterAnimation("move"),this.$refs.cdWrapper.style.animation=""},leave:function(t,e){this.$refs.cdWrapper.style.transition="all 0.4s";var s=this._getPosAndScale(),i=s.x,n=s.y,a=s.scale;this.$refs.cdWrapper.style[Rs]="translate3d("+i+"px,"+n+"px,0) scale("+a+")",this.$refs.cdWrapper.addEventListener("transitionend",e)},afterLeave:function(){this.$refs.cdWrapper.style.transition="",this.$refs.cdWrapper.style[Rs]=""},_getPosAndScale:function(){var t=.8*window.innerWidth,e=40/t;return{x:-(window.innerWidth/2-40),y:window.innerHeight-80-t/2-30,scale:e}},showPlayList:function(){this.$refs.playList.show()}},Object(U.d)("appShell/appPlayer",{setFullScreen:"SET_FULL_SCREEN"}),Object(U.b)("appShell/appPlayer",["savePlayHistory"]))};var qs=function(t){s("WE5i")},Ns=Object(P.a)(Ds,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.playList.length>0,expression:"playList.length > 0"}],staticClass:"player",attrs:{transition:"slide-y-reverse-transition"}},[s("transition",{attrs:{name:"normal"},on:{enter:t.enter,"after-enter":t.afterEnter,leave:t.leave,"after-leave":t.afterLeave}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.fullScreen,expression:"fullScreen"}],staticClass:"normal-player"},[s("div",{staticClass:"background"},[s("div",{staticClass:"filter"}),t._v(" "),s("img",{attrs:{src:t.currentSong.image,alt:"",width:"100%",height:"100%"}})]),t._v(" "),s("div",{staticClass:"top"},[s("div",{staticClass:"app-header-left"},[s("i",{staticClass:"material-icons",on:{click:function(e){return e.stopPropagation(),t.back(e)}}},[t._v("keyboard_arrow_down")])]),t._v(" "),s("div",{staticClass:"app-header-middle"},[s("h1",{staticClass:"title",domProps:{innerHTML:t._s(t.currentSong.name)}}),t._v(" "),s("h1",{staticClass:"subtitle",domProps:{innerHTML:t._s(t.currentSong.singer)}})]),t._v(" "),s("div",{staticClass:"app-header-right"},[s("v-btn",{attrs:{icon:""}},[s("v-icon",{staticClass:"app-header-icon",attrs:{color:"white"}},[t._v("menu")])],1)],1)]),t._v(" "),s("div",{staticClass:"middle",on:{touchstart:function(e){return e.preventDefault(),t.middleTouchStart(e)},touchmove:function(e){return e.preventDefault(),t.middleTouchMove(e)},touchend:t.middleTouchEnd}},[s("div",{ref:"middleL",staticClass:"middle-l"},[s("div",{ref:"cdWrapper",staticClass:"cd-wrapper"},[s("div",{staticClass:"cd",class:t.cdCls},[s("img",{staticClass:"image",attrs:{src:t.currentSong.image,alt:""}})])]),t._v(" "),s("div",{staticClass:"playing-lyric-wrapper"},[s("div",{staticClass:"playing-lyric"},[t._v("\n              "+t._s(t.playingLyric)+"\n            ")])])]),t._v(" "),s("scroll",{ref:"lyriclist",staticClass:"middle-r",attrs:{data:t.currentLyric&&t.currentLyric.lines}},[s("div",{staticClass:"lyric-wrapper"},[t.currentLyric?s("div",t._l(t.currentLyric.lines,function(e,i){return s("p",{key:e.key,ref:"lyricLine",refInFor:!0,staticClass:"text",class:{current:t.currentLineNum===i}},[t._v("\n                "+t._s(e.txt)+"\n              ")])})):t._e(),t._v(" "),null===t.currentLyric?s("p",{staticClass:"no-lyric"},[t._v(t._s(t.upDatecurrentLyric))]):t._e()])])],1),t._v(" "),s("div",{staticClass:"bottom"},[s("div",{staticClass:"dot-wrapper"},[s("span",{staticClass:"dot",class:{active:"cd"===t.currentShow}}),t._v(" "),s("span",{staticClass:"dot",class:{active:"lyric"===t.currentShow}})]),t._v(" "),s("div",{staticClass:"progress-wrapper"},[s("span",{staticClass:"time time-l"},[t._v("\n            "+t._s(t.format(t.currentTime))+"\n          ")]),t._v(" "),s("div",{staticClass:"progress-bar-wrapper"},[s("progress-bar",{attrs:{percent:t.percent},on:{percentChangeEnd:t.percentChangeEnd,percentChange:t.percentChange}})],1),t._v(" "),s("span",{staticClass:"time time-r"},[t._v("\n            "+t._s(t.format(t.duration))+"\n          ")])]),t._v(" "),s("div",{staticClass:"operators"},[s("div",{staticClass:"icon i-left",on:{click:t.changeMode}},[s("i",{class:t.iconMode})]),t._v(" "),s("div",{staticClass:"icon i-left",class:t.disableCls},[s("i",{staticClass:"icon-prev",on:{click:t.prev}})]),t._v(" "),s("div",{staticClass:"icon i-center",class:t.disableCls},[s("i",{staticClass:"iconfont",class:t.playIcon,on:{click:t.togglePlaying}})]),t._v(" "),s("div",{staticClass:"icon i-right",class:t.disableCls},[s("i",{staticClass:"icon-next",on:{click:t.next}})]),t._v(" "),s("div",{staticClass:"icon i-right"},[s("i",{staticClass:"icon",class:t.getFavoriteIcon(t.currentSong),on:{click:function(e){t.toggleFavorite(t.currentSong)}}})])])])])]),t._v(" "),s("transition",{attrs:{name:"mini"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.fullScreen,expression:"!fullScreen"}],staticClass:"mini-player",on:{click:t.open}},[s("div",{staticClass:"icon"},[s("img",{class:t.cdCls,attrs:{alt:"",src:t.currentSong.image,width:"40",height:"40"}})]),t._v(" "),s("div",{staticClass:"text"},[s("h2",{staticClass:"name",domProps:{innerHTML:t._s(t.currentSong.name)}}),t._v(" "),s("p",{staticClass:"desc",domProps:{innerHTML:t._s(t.currentSong.singer)}})]),t._v(" "),s("div",{staticClass:"control"},[s("progress-circle",{attrs:{radius:t.radius,percent:t.percent}},[s("i",{staticClass:"material-icons mini2-play",on:{click:function(e){return e.stopPropagation(),t.togglePlaying(e)}}},[t._v(t._s(t.miniIcon))])])],1),t._v(" "),s("div",{staticClass:"control"},[s("div",{staticClass:"musicList"},[s("i",{staticClass:"icon-playlist",on:{click:function(e){return e.stopPropagation(),t.showPlayList(e)}}})])])])]),t._v(" "),s("play-list",{ref:"playList"}),t._v(" "),s("audio",{ref:"audio",attrs:{autoplay:""},on:{play:t.ready,error:t.error,timeupdate:t.updateTime,ended:t.ended}})],1)},[],!1,qs,"data-v-39e28606",null).exports,Hs=s("bOdI"),Ws=s.n(Hs),Bs=s("XPnZ"),Us=s.n(Bs),$s=function(t){setTimeout(t,1e3/60)};$s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||$s;var Ys={props:{value:{type:Boolean,default:!1},enable:{type:Boolean,default:!0},width:{type:Number,default:.75},duration:{type:Number,default:200},region:Ws()({type:Object},"default",function(){return{top:0,bottom:0,left:0,width:40}})},data:function(){return{clientWidth:320,clientHeight:568,startX:0,startY:0,scrollEnable:!1,wrapperClass:{expand:!1,collapse:!0,"w-left":!0},opacity:0,iscroll:null}},computed:{itsWidth:function(){return this.width<1?Math.round(this.width*this.clientWidth):this.width},widthProp:function(){return this.itsWidth+"px"},status:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},zone:function(){var t=this.region,e=t.top,s=t.right,i=t.bottom,n=t.left,a=t.width,r=t.height,o=this.clientWidth,c=this.clientHeight;return{top:void 0===e?c-i-r:e,left:void 0===n?o-s-a:n,width:void 0===a?o-n-s:a,height:void 0===r?c-e-n:r}}},watch:{status:function(t){t?this.expand():this.collapse()}},mounted:function(){this.clientWidth=document.documentElement.clientWidth,this.clientHeight=document.documentElement.clientHeight,document.body.addEventListener("touchstart",this.touchStart.bind(this)),document.body.addEventListener("touchmove",this.touchMove.bind(this))},methods:{touchStart:function(t){if(!this.wrapperClass.expand&&this.enable){var e=t.touches[0],s=e.clientX,i=e.clientY,n=this.zone,a=n.left,r=n.top,o=n.width,c=n.height;s<a||s>a+o||i<r||i>r+c||(this.scrollEnable=!0,this.startX=s,this.startY=i)}},touchMove:function(t){var e=this;if(this.scrollEnable){var s=t.touches[0],i=s.clientX,n=s.clientY,a=i-this.startX;a>5&&Math.abs(n-this.startY)/a<.577&&(this.wrapperClass.expand=!0,this.wrapperClass.collapse=!1,this.$nextTick(function(){e.bindScroll(t)}))}},toggleClick:function(t){this.status=!1},bindScroll:function(t){var e=this;this.iscroll||(this.iscroll=new Us.a(this.$refs.sidebarWrapper,{eventPassthrough:!0,scrollY:!1,scrollX:!0,bounce:!1,startX:-this.itsWidth}),this.iscroll.on("scrollEnd",function(){var t=e.iscroll,s=t.directionX,i=t.x;0===i?e.status=!0:i===-e.itsWidth?e.status=!1:e.status=!(s>0)&&(s<0||!e.status)}),this.changeOpacity(),t&&this.iscroll._start(t))},expand:function(){var t=this;this.wrapperClass.expand=!0,this.wrapperClass.collapse=!1,this.$nextTick(function(){t.iscroll||t.bindScroll(),t.iscroll.x<0&&setTimeout(function(){t.iscroll&&t.iscroll.scrollTo(0,0,t.duration)},10)})},collapse:function(){var t=this;this.iscroll&&(this.iscroll.x===-this.itsWidth?this.unbindScroll():(setTimeout(function(){t.iscroll.scrollTo(-t.itsWidth,0,t.duration)}),setTimeout(function(){t.unbindScroll()},this.duration+10)))},unbindScroll:function(){this.iscroll&&(this.iscroll.destroy(),this.iscroll=null,this.wrapperClass.expand=!1,this.wrapperClass.collapse=!0,this.scrollEnable=!1,this.opacity=0,this.$refs.sidebarScroller.setAttribute("style","padding-left:"+this.widthProp))},changeOpacity:function(){this.wrapperClass.expand&&this.iscroll&&(this.opacity=(this.iscroll.x+this.itsWidth)/this.itsWidth*.5,$s(this.changeOpacity.bind(this)))}}};var Fs=function(t){s("LiAR")},Qs={components:{Sidebar:Object(P.a)(Ys,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"sidebarWrapper",staticClass:"sidebar-wrapper",class:t.wrapperClass},[s("div",{ref:"sidebarScroller",staticClass:"sidebar-scroller",style:{"padding-left":t.widthProp}},[s("div",{staticClass:"sidebar-main",style:{width:t.widthProp},on:{scroll:function(t){t.stopPropagation()}}},[t._t("default")],2),t._v(" "),s("div",{ref:"sidebarToggle",staticClass:"touch-toggle",style:{opacity:t.opacity,"padding-left":t.widthProp},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleClick(e)}}})])])},[],!1,Fs,"data-v-414ed5f0",null).exports},computed:S()({},Object(U.e)("appShell/appSidebar",["show","title","user","blocks"]),{sidebarStatus:{get:function(){return this.show},set:function(t){t?this.$emit("show-sidebar"):this.$emit("hide-sidebar")}},enableSidebar:function(){return this.$store.state.appShell.appHeader.show&&this.$store.state.appShell.appHeader.showMenu}}),methods:{close:function(){this.sidebarStatus=!1},closeAndGo:function(t){this.$router.push(t),this.close()}}};var zs=function(t){s("hoI6")},Js=Object(P.a)(Qs,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("sidebar",{attrs:{enable:t.enableSidebar},model:{value:t.sidebarStatus,callback:function(e){t.sidebarStatus=e},expression:"sidebarStatus"}},[s("div",{staticClass:"app-sidebar-content"},[t.title?s("div",{staticClass:"app-sidebar-title",on:{click:function(e){e.stopPropagation(),t.closeAndGo("/")}}},[s("span",{staticClass:"app-sidebar-title-left-icon"},[t.title.imageLeft?s("img",{attrs:{src:t.title.imageLeft,alt:t.title.altLeft}}):t.title.iconLeft?s("v-icon",{attrs:{color:"white"}},[t._v(t._s(t.title.iconLeft))]):t._e()],1),t._v(" "),s("span",[t._v(t._s(t.title.text))]),t._v(" "),t._t("logo",[s("span",{staticClass:"app-sidebar-title-right-logo"},[t.title.imageRight?s("img",{attrs:{src:t.title.imageRight,alt:t.title.altRight}}):t.title.iconRight?s("v-icon",[t._v(t._s(t.title.iconRight))]):t._e()],1)])],2):t._e(),t._v(" "),t.user?s("div",{staticClass:"app-sidebar-user"},[s("div",{staticClass:"user-avatar"},[s("v-icon",{staticClass:"user-avatar-icon"},[t._v("face")])],1),t._v(" "),s("div",{staticClass:"user-info"},[s("div",{staticClass:"user-name"},[s("v-icon",[t._v("person")]),t._v(t._s(t.user.name))],1),t._v(" "),s("div",{staticClass:"user-location"},[s("v-icon",[t._v("room")]),t._v(t._s(t.user.location))],1),t._v(" "),s("div",{staticClass:"user-email"},[s("v-icon",[t._v("email")]),t._v(t._s(t.user.email))],1)])]):t._e(),t._v(" "),t.blocks?s("div",{staticClass:"app-sidebar-blocks"},[s("ul",t._l(t.blocks,function(e,i){return s("li",{key:i,staticClass:"app-sidebar-block"},[e.sublistTitle?s("div",{staticClass:"sub-list-title"},[t._v(t._s(e.sublistTitle))]):t._e(),t._v(" "),e.list?s("ul",t._l(e.list,function(e){return s("li",{key:e.text,on:{click:function(s){s.stopPropagation(),t.closeAndGo(e.route)}}},[e.icon||e.image?s("span",{staticClass:"app-sidebar-block-left-icon"},[e.image?s("img",{attrs:{src:e.image,alt:e.alt}}):e.icon?s("v-icon",[t._v(t._s(e.icon))]):t._e()],1):t._e(),t._v(" "),e.text?s("span",{staticClass:"app-sidebar-block-text"},[t._v(t._s(e.text))]):t._e()])})):t._e()])}))]):t._e()])])},[],!1,zs,"data-v-e345e3d6",null).exports,Gs={name:"updateToast",props:{text:{type:String,default:"站点发生更新，请手动刷新"}},data:function(){return{show:!1}},mounted:function(){window.addEventListener("sw.update",this.handleUpdate)},beforeDestroy:function(){window.removeEventListener("sw.update",this.handleUpdate)},methods:{handleUpdate:function(t){this.show=!0},handleRefresh:function(){window.location.reload()}}};var Zs=function(t){s("097M")},Vs={name:"app",components:{UpdateToast:Object(P.a)(Gs,function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"popup"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"update-toast"},[e("span",[this._v(this._s(this.text))]),this._v(" "),e("span",{staticClass:"update-toast-close-btn",on:{click:this.handleRefresh}},[e("i",{staticClass:"iconfont icon-refresh"})])])])},[],!1,Zs,"data-v-fc732238",null).exports,AppHeader:ps,AppTabs:ms,AppNav:_s,AppPlayer:Ns,AppSidebar:Js},computed:S()({},Object(U.e)("pageTransition",{pageTransitionType:function(t){return t.type},pageTransitionEffect:function(t){return t.effect}}),Object(U.e)("appShell/appHeader",{appHeaderShow:function(t){return t.show}}),Object(U.e)("appShell/common",{scrollPostionMap:function(t){return t.scrollPostionMap}}),{pageTransitionClass:function(){return"transition-"+this.pageTransitionType},routerViewKey:function(){var t=this.$route,e=t.name,s=t.params,i=H()(s);return i.length?e+i.reduce(function(t,e){return t+s[e]},""):null}}),data:function(){return{keepAlivePages:qe}},methods:S()({},Object(U.b)("appShell/appSidebar",["showSidebar","hideSidebar"]),Object(U.b)("appShell/common",["setPageSwitching","savePageScrollPosition"]),{restoreContainerScrollPosition:function(t,e){t.classList.add("app-view-scroll-enabled"),t.scrollTop=e},restoreBodyScrollPosition:function(t,e){t.classList.remove("app-view-scroll-enabled"),document.body.scrollTop=document.documentElement.scrollTop=e},handleBeforeEnter:function(t){var e=this,s=t.dataset.pageId,i=(this.scrollPostionMap[s]||{}).y,n=void 0===i?0:i;this.setPageSwitching(!0),d.a.nextTick(function(){e.restoreContainerScrollPosition(t,n)})},handleAfterEnter:function(t){var e=t.dataset.pageId,s=(this.scrollPostionMap[e]||{}).y,i=void 0===s?0:s;this.setPageSwitching(!1),this.restoreBodyScrollPosition(t,i)},handleBeforeLeave:function(t){var e=t.dataset.pageId,s=document.body.scrollTop||document.documentElement.scrollTop;this.restoreContainerScrollPosition(t,s),this.savePageScrollPosition({pageId:e,scrollPosition:{y:s}})},handleClickHeaderBack:function(){this.$router.go(-1)},handleClickHeaderMenu:function(){this.showSidebar()},handleHideSidebar:function(){this.hideSidebar()},handleShowSidebar:function(){this.showSidebar()}})};var Ks=function(t){s("fL9+")},Xs=Object(P.a)(Vs,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("v-app",[s("app-header",{staticClass:"app-shell-header",on:{"click-menu":t.handleClickHeaderMenu,"click-back":t.handleClickHeaderBack}}),t._v(" "),s("app-tabs"),t._v(" "),s("transition",{attrs:{name:t.pageTransitionEffect},on:{"before-enter":t.handleBeforeEnter,"after-enter":t.handleAfterEnter,"before-leave":t.handleBeforeLeave}},[s("keep-alive",[s("router-view",{key:t.routerViewKey,staticClass:"app-view",class:[{"app-view-with-header":t.appHeaderShow},t.pageTransitionClass],attrs:{"data-page-id":t.$route.fullPath}})],1)],1),t._v(" "),s("app-player"),t._v(" "),s("update-toast")],1)],1)},[],!1,Ks,"data-v-4b131a40",null).exports,ti=s("3EgV"),ei=s.n(ti),si=s("cTzj"),ii=s.n(si);d.a.use(ii.a,{loading:s("7Tv1")}),d.a.use(L.a),d.a.use(ei.a),d.a.config.productionTip=!1;var ni={data:function(){return{percent:0,show:!1,canSuccess:!0,duration:3e3,height:"2px",color:"#ffca2b",failedColor:"#ff0000"}},methods:{start:function(){var t=this;return this.show=!0,this.canSuccess=!0,this._timer&&(clearInterval(this._timer),this.percent=0),this._cut=1e4/Math.floor(this.duration),this._timer=setInterval(function(){t.increase(t._cut*Math.random()),t.percent>95&&t.finish()},100),this},set:function(t){return this.show=!0,this.canSuccess=!0,this.percent=Math.floor(t),this},get:function(){return Math.floor(this.percent)},increase:function(t){return this.percent=this.percent+Math.floor(t),this},decrease:function(t){return this.percent=this.percent-Math.floor(t),this},finish:function(){return this.percent=100,this.hide(),this},pause:function(){return clearInterval(this._timer),this},hide:function(){var t=this;return clearInterval(this._timer),this._timer=null,setTimeout(function(){t.show=!1,t.$nextTick(function(){setTimeout(function(){t.percent=0},200)})},500),this},fail:function(){return this.canSuccess=!1,this}}};var ai=function(t){s("+31+")},ri=Object(P.a)(ni,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"progress",style:{width:this.percent+"%",height:this.height,"background-color":this.canSuccess?this.color:this.failedColor,opacity:this.show?1:0}})},[],!1,ai,"data-v-e0e1a4fc",null).exports,oi=s("p5k0"),ci=s.n(oi),li=s("XGXE"),ui=s.n(li);s("MU8w"),s("CJsk");ci.a.shim(),ui.a.shim();var hi,di,pi=d.a.prototype.$loading=new d.a(ri).$mount(),fi=(hi=Ne(),di=os(),{App:d.a.extend(S()({router:hi,store:di},Xs)),router:hi,store:di}),vi=fi.App,mi=fi.router,gi=fi.store,yi=w.a.build,_i=yi.ssr,wi=yi.cssExtract,Ci=w.a.middleware,Si=void 0===Ci?{}:Ci,bi=w.a.skeleton,Li=bi.enable,Ai=bi.asyncCSS,xi=void 0;window.__INITIAL_STATE__&&gi.replaceState(window.__INITIAL_STATE__),"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual"),document.body.appendChild(pi.$el),d.a.mixin({beforeRouteUpdate:function(){var t=h()(l.a.mark(function t(e,s,i){var n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.$options.asyncData)?(pi.start(),n.call(this,{store:this.$store,route:e}).then(function(){pi.finish(),i()}).catch(i)):i();case 2:case"end":return t.stop()}},t,this)}));return function(e,s,i){return t.apply(this,arguments)}}()});var Ti=!0;if(function(){var t=this;mi.beforeEach((e=h()(l.a.mark(function e(s,i,n){var a,r,c,u,h,d,m;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Ti||s.path!==i.path){t.next=2;break}return t.abrupt("return",n());case 2:return Ti=!1,a=mi.getMatchedComponents(s),r=[].concat(o()(Si.all||[]),o()(Si.client||[]),o()(a.filter(function(t){var e=t.middleware;return!!e}).reduce(function(t,e){var s=e.middleware;return t.concat(s)},[]))),t.next=7,f(r);case 7:if(c=t.sent,!(u=r.find(function(t){return"function"!=typeof c[t]}))){t.next=11;break}throw new Error("Unknown middleware "+u);case 11:return h=!1,d=v({to:s,from:i,store:gi,next:function(t){if(pi.finish&&pi.finish(),!h){if(h=!0,t.external)return t.query=Object(p.stringify)(t.query),t.path=t.path+(t.query?"?"+t.query:""),window.location.replace(t.path),n();n(t)}}},xi),m=r.map(function(t){return c[t]}),t.next=17,g(m,d);case 17:h||n();case 18:case"end":return t.stop()}},e,t)})),function(t,s,i){return e.apply(this,arguments)}));var e}(),!document.body.hasAttribute("empty-appshell")&&_i)xi=new vi,mi.onReady(function(){Ii(),xi.$mount("#app")});else{var ki=Li&&Ai&&wi;window.mountLavas=function(){setTimeout(function(){var t=document.querySelector("#app");t&&(t.innerHTML=""),xi.$mount("#app")},0)},Ii(),xi=new vi,(_i||!ki||ki&&window.STYLE_READY)&&window.mountLavas()}function Ii(){var t=this;mi.beforeResolve(function(e,s,i){var n,r=mi.getMatchedComponents(e),o=mi.getMatchedComponents(s),c=!1,u=r.filter(function(t,e){return c||(c=o[e]!==t)});if(!u.length)return i();pi.start(),a.a.all(u.filter(function(t){return t.asyncData&&(!t.asyncDataFetched||!e.meta.keepAlive)}).map((n=h()(l.a.mark(function s(i){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.asyncData({store:gi,route:e});case 2:i.asyncDataFetched=!0;case 3:case"end":return t.stop()}},s,t)})),function(t){return n.apply(this,arguments)}))).then(function(){pi.finish(),i()}).catch(i)})}},oj8x:function(t,e){t.exports="data:image/gif;base64,R0lGODlhZABkAKIEAN7e3rq6uv///5mZmQAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpBRjA4RUZDMDI3MjA2ODExODA4M0Y1OTQyMzVDRDM3MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCMzE0Rjk3NDdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCMzE0Rjk3MzdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDVBMTZDQjczOTIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QUYwOEVGQzAyNzIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+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"},"p1F+":function(t,e){},ufho:function(t,e){},xdvX:function(t,e){},yfi1:function(t,e){}},[0]);
//# sourceMappingURL=index.1ddf179b.js.map